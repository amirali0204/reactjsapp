{"ast":null,"code":"var _jsxFileName = \"/Users/amirali/Documents/github/reactjsapp/deskvantage/src/DVComponents/DVKanban.tsx\";\nimport * as React from 'react';\nimport './App.css';\nimport JqxKanban, { jqx } from 'jqwidgets-scripts/jqwidgets-react-tsx/jqxkanban';\n\nclass DVKanban extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.theme = jqx.theme;\n    this.myKanban = React.createRef();\n    this.itemIndex = 0;\n    this.onItemAttrClicked = this.onItemAttrClicked.bind(this);\n    this.onColumnAttrClicked = this.onColumnAttrClicked.bind(this);\n    const fields = [{\n      name: 'id',\n      type: 'string'\n    }, {\n      name: 'status',\n      map: 'state',\n      type: 'string'\n    }, {\n      name: 'text',\n      map: 'label',\n      type: 'string'\n    }, {\n      name: 'tags',\n      type: 'string'\n    }, {\n      name: 'color',\n      map: 'hex',\n      type: 'string'\n    }, {\n      name: 'resourceId',\n      type: 'number'\n    }];\n    const source = {\n      dataFields: fields,\n      dataType: 'array',\n      localData: [{\n        id: '1161',\n        state: 'new',\n        label: 'Combine Orders',\n        tags: 'orders, combine',\n        hex: '#5dc3f0',\n        resourceId: 3\n      }, {\n        id: '1645',\n        state: 'work',\n        label: 'Change Billing Address',\n        tags: 'billing',\n        hex: '#f19b60',\n        resourceId: 1\n      }, {\n        id: '9213',\n        state: 'new',\n        label: 'One item added to the cart',\n        tags: 'cart',\n        hex: '#5dc3f0',\n        resourceId: 3\n      }, {\n        id: '6546',\n        state: 'done',\n        label: 'Edit Item Price',\n        tags: 'price, edit',\n        hex: '#5dc3f0',\n        resourceId: 4\n      }, {\n        id: '9034',\n        state: 'new',\n        label: 'Login 404 issue',\n        tags: 'issue, login',\n        hex: '#6bbd49'\n      }]\n    };\n\n    const resourcesAdapterFunc = () => {\n      const resourcesSource = {\n        dataFields: [{\n          name: 'id',\n          type: 'number'\n        }, {\n          name: 'name',\n          type: 'string'\n        }, {\n          name: 'image',\n          type: 'string'\n        }, {\n          name: 'common',\n          type: 'boolean'\n        }],\n        dataType: 'array',\n        localData: [{\n          id: 0,\n          name: 'No name',\n          image: './../images/andrew.png',\n          common: true\n        }, {\n          id: 1,\n          name: 'Andrew Fuller',\n          image: './../images/andrew.png'\n        }, {\n          id: 2,\n          name: 'Janet Leverling',\n          image: './../images/janet.png'\n        }, {\n          id: 3,\n          name: 'Steven Buchanan',\n          image: './../images/steven.png'\n        }, {\n          id: 4,\n          name: 'Nancy Davolio',\n          image: './../images/nancy.png'\n        }, {\n          id: 5,\n          name: 'Michael Buchanan',\n          image: './../images/Michael.png'\n        }, {\n          id: 6,\n          name: 'Margaret Buchanan',\n          image: './../images/margaret.png'\n        }, {\n          id: 7,\n          name: 'Robert Buchanan',\n          image: './../images/robert.png'\n        }, {\n          id: 8,\n          name: 'Laura Buchanan',\n          image: './../images/Laura.png'\n        }, {\n          id: 9,\n          name: 'Laura Buchanan',\n          image: './../images/Anne.png'\n        }]\n      };\n      const resourcesDataAdapter = new jqx.dataAdapter(resourcesSource);\n      return resourcesDataAdapter;\n    };\n\n    const getIconClassName = () => {\n      switch (this.theme) {\n        case 'darkblue':\n        case 'black':\n        case 'shinyblack':\n        case 'ui-le-frog':\n        case 'metrodark':\n        case 'orange':\n        case 'darkblue':\n        case 'highcontrast':\n        case 'ui-sunny':\n        case 'ui-darkness':\n          return 'jqx-icon-plus-alt-white ';\n      }\n\n      return 'jqx-icon-plus-alt';\n    };\n\n    const columnRenderer = (element, collapsedElement, column) => {\n      if (element[0]) {\n        const elementHeaderStatus = element[0].getElementsByClassName('jqx-kanban-column-header-status')[0];\n        const collapsedElementHeaderStatus = collapsedElement[0].getElementsByClassName('jqx-kanban-column-header-status')[0]; // setTimeout(() => {\n        //     const columnItems = this.myKanban.current!.getColumnItems(column.dataField).length;\n        //     elementHeaderStatus.innerHTML = ' (' + columnItems + '/' + column.maxItems + ')';\n        //     collapsedElementHeaderStatus.innerHTML = ' (' + columnItems + '/' + column.maxItems + ')';\n        // }, 500);\n      }\n    };\n\n    const template = '<div class=\"jqx-kanban-item\" id=\"\">' + '<div class=\"jqx-kanban-item-color-status\"></div>' + '<div style=\"display: none;\" class=\"jqx-kanban-item-avatar\"></div>' + '<div class=\"jqx-icon jqx-icon-close jqx-kanban-item-template-content jqx-kanban-template-icon\"></div>' + '<div class=\"jqx-kanban-item-text\"></div>' + '<div style=\"display: none;\" class=\"jqx-kanban-item-footer\"></div>' + '</div>';\n\n    const itemRenderer = (element, item, resource) => {\n      element[0].getElementsByClassName('jqx-kanban-item-color-status')[0].innerHTML = '<span style=\"line-height: 23px; margin-left: 5px;\">' + resource.name + '</span>';\n      element[0].getElementsByClassName('jqx-kanban-item-text')[0].style.background = item.color;\n    };\n\n    this.state = {\n      columnRenderer,\n      columns: [{\n        text: 'Backlog',\n        iconClassName: getIconClassName(),\n        dataField: 'new',\n        maxItems: 4\n      }, {\n        text: 'In Progress',\n        iconClassName: getIconClassName(),\n        dataField: 'work',\n        maxItems: 2\n      }, {\n        text: 'Done',\n        iconClassName: getIconClassName(),\n        dataField: 'done',\n        maxItems: 5\n      }],\n      itemRenderer,\n      resources: resourcesAdapterFunc(),\n      source: new jqx.dataAdapter(source),\n      template\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"abbss\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(JqxKanban, {\n      ref: this.myKanban,\n      theme: '',\n      onItemAttrClicked: this.onItemAttrClicked,\n      onColumnAttrClicked: this.onColumnAttrClicked,\n      width: '100%',\n      template: this.state.template,\n      source: this.state.source,\n      columns: this.state.columns,\n      resources: this.state.resources,\n      columnRenderer: this.state.columnRenderer,\n      height: 550,\n      itemRenderer: this.state.itemRenderer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }));\n  }\n\n  onItemAttrClicked(event) {\n    const args = event.args;\n\n    if (args.attribute === 'template') {\n      this.myKanban.current.removeItem(args.item.id);\n    }\n  }\n\n  onColumnAttrClicked(event) {\n    const args = event.args;\n\n    if (args.attribute === 'button') {\n      args.cancelToggle = true;\n\n      if (!args.column.collapsed) {\n        const colors = ['#f19b60', '#5dc3f0', '#6bbd49', '#dddddd'];\n        this.myKanban.current.addItem({\n          color: colors[Math.floor(Math.random() * 4)],\n          resourceId: Math.floor(Math.random() * 4),\n          status: args.column.dataField,\n          tags: 'new task',\n          text: '<input placeholder=\"(No Title)\" style=\"width: 96%; margin-top:2px; border-radius: 3px;' + 'border-color: #ddd; line-height:20px; height: 20px;\" class=\"jqx-input\" id=\"newItem' + this.itemIndex + '\" value= \"\" />'\n        });\n        const id = `newItem${this.itemIndex}`;\n        const myInput = document.getElementById(id);\n\n        if (myInput !== null && myInput !== undefined) {\n          myInput.addEventListener('mousedown', eventEl => {\n            eventEl.stopPropagation();\n          });\n          myInput.addEventListener('mouseup', eventEl => {\n            eventEl.stopPropagation();\n          });\n          myInput.addEventListener('keydown', eventEl => {\n            if (eventEl.keyCode === 13) {\n              const valueElement = `<span>${eventEl.target.value}</span>`;\n              eventEl.target.insertAdjacentHTML('beforebegin', valueElement);\n              eventEl.target.remove();\n            }\n          });\n          myInput.focus();\n        }\n\n        this.itemIndex++;\n      }\n    }\n  }\n\n}\n\nexport default DVKanban;","map":{"version":3,"sources":["/Users/amirali/Documents/github/reactjsapp/deskvantage/src/DVComponents/DVKanban.tsx"],"names":["React","JqxKanban","jqx","DVKanban","PureComponent","constructor","props","theme","myKanban","createRef","itemIndex","onItemAttrClicked","bind","onColumnAttrClicked","fields","name","type","map","source","dataFields","dataType","localData","id","state","label","tags","hex","resourceId","resourcesAdapterFunc","resourcesSource","image","common","resourcesDataAdapter","dataAdapter","getIconClassName","columnRenderer","element","collapsedElement","column","elementHeaderStatus","getElementsByClassName","collapsedElementHeaderStatus","template","itemRenderer","item","resource","innerHTML","style","background","color","columns","text","iconClassName","dataField","maxItems","resources","render","event","args","attribute","current","removeItem","cancelToggle","collapsed","colors","addItem","Math","floor","random","status","myInput","document","getElementById","undefined","addEventListener","eventEl","stopPropagation","keyCode","valueElement","target","value","insertAdjacentHTML","remove","focus"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport './App.css';\nimport JqxKanban, { IKanbanProps, jqx } from 'jqwidgets-scripts/jqwidgets-react-tsx/jqxkanban';\nclass DVKanban extends React.PureComponent<{}&any, IKanbanProps&any> {\n    private theme = jqx.theme;\n    private myKanban = React.createRef<JqxKanban>();\n    private itemIndex: number = 0;\n\n    constructor(props: {}) {\n        super(props);\n        this.onItemAttrClicked = this.onItemAttrClicked.bind(this);\n        this.onColumnAttrClicked = this.onColumnAttrClicked.bind(this);\n        const fields: any[] = [\n            { name: 'id', type: 'string' },\n            { name: 'status', map: 'state', type: 'string' },\n            { name: 'text', map: 'label', type: 'string' },\n            { name: 'tags', type: 'string' },\n            { name: 'color', map: 'hex', type: 'string' },\n            { name: 'resourceId', type: 'number' }\n        ];\n        const source = {\n            dataFields: fields,\n            dataType: 'array',\n            localData: [\n                { id: '1161', state: 'new', label: 'Combine Orders', tags: 'orders, combine', hex: '#5dc3f0', resourceId: 3 },\n                { id: '1645', state: 'work', label: 'Change Billing Address', tags: 'billing', hex: '#f19b60', resourceId: 1 },\n                { id: '9213', state: 'new', label: 'One item added to the cart', tags: 'cart', hex: '#5dc3f0', resourceId: 3 },\n                { id: '6546', state: 'done', label: 'Edit Item Price', tags: 'price, edit', hex: '#5dc3f0', resourceId: 4 },\n                { id: '9034', state: 'new', label: 'Login 404 issue', tags: 'issue, login', hex: '#6bbd49' }\n            ]\n        };\n        const resourcesAdapterFunc = (): any => {\n            const resourcesSource = {\n                dataFields: [\n                    { name: 'id', type: 'number' },\n                    { name: 'name', type: 'string' },\n                    { name: 'image', type: 'string' },\n                    { name: 'common', type: 'boolean' }\n                ],\n                dataType: 'array',\n                localData: [\n                    { id: 0, name: 'No name', image: './../images/andrew.png', common: true },\n                    { id: 1, name: 'Andrew Fuller', image: './../images/andrew.png' },\n                    { id: 2, name: 'Janet Leverling', image: './../images/janet.png' },\n                    { id: 3, name: 'Steven Buchanan', image: './../images/steven.png' },\n                    { id: 4, name: 'Nancy Davolio', image: './../images/nancy.png' },\n                    { id: 5, name: 'Michael Buchanan', image: './../images/Michael.png' },\n                    { id: 6, name: 'Margaret Buchanan', image: './../images/margaret.png' },\n                    { id: 7, name: 'Robert Buchanan', image: './../images/robert.png' },\n                    { id: 8, name: 'Laura Buchanan', image: './../images/Laura.png' },\n                    { id: 9, name: 'Laura Buchanan', image: './../images/Anne.png' }\n                ]\n            };\n            const resourcesDataAdapter = new jqx.dataAdapter(resourcesSource);\n            return resourcesDataAdapter;\n        };\n        const getIconClassName = (): string => {\n            switch (this.theme) {\n                case 'darkblue':\n                case 'black':\n                case 'shinyblack':\n                case 'ui-le-frog':\n                case 'metrodark':\n                case 'orange':\n                case 'darkblue':\n                case 'highcontrast':\n                case 'ui-sunny':\n                case 'ui-darkness':\n                    return 'jqx-icon-plus-alt-white ';\n            }\n            return 'jqx-icon-plus-alt';\n        };\n        const columnRenderer = (element: any, collapsedElement: any, column: any): void => {\n            if (element[0]) {\n                const elementHeaderStatus = element[0].getElementsByClassName('jqx-kanban-column-header-status')[0];\n                const collapsedElementHeaderStatus = collapsedElement[0].getElementsByClassName('jqx-kanban-column-header-status')[0];\n                // setTimeout(() => {\n                //     const columnItems = this.myKanban.current!.getColumnItems(column.dataField).length;\n                //     elementHeaderStatus.innerHTML = ' (' + columnItems + '/' + column.maxItems + ')';\n                //     collapsedElementHeaderStatus.innerHTML = ' (' + columnItems + '/' + column.maxItems + ')';\n                // }, 500);\n            }\n        };\n        const template: string =\n            '<div class=\"jqx-kanban-item\" id=\"\">'\n            + '<div class=\"jqx-kanban-item-color-status\"></div>'\n            + '<div style=\"display: none;\" class=\"jqx-kanban-item-avatar\"></div>'\n            + '<div class=\"jqx-icon jqx-icon-close jqx-kanban-item-template-content jqx-kanban-template-icon\"></div>'\n            + '<div class=\"jqx-kanban-item-text\"></div>'\n            + '<div style=\"display: none;\" class=\"jqx-kanban-item-footer\"></div>'\n            + '</div>';\n        const itemRenderer = (element: any, item: any, resource: any): void => {\n            element[0].getElementsByClassName('jqx-kanban-item-color-status')[0].innerHTML = '<span style=\"line-height: 23px; margin-left: 5px;\">' + resource.name + '</span>';\n            element[0].getElementsByClassName('jqx-kanban-item-text')[0].style.background = item.color;\n        };\n        this.state = {\n            columnRenderer,\n            columns: [\n                { text: 'Backlog', iconClassName: getIconClassName(), dataField: 'new', maxItems: 4 },\n                { text: 'In Progress', iconClassName: getIconClassName(), dataField: 'work', maxItems: 2 },\n                { text: 'Done', iconClassName: getIconClassName(), dataField: 'done', maxItems: 5 }\n            ],\n            itemRenderer,\n            resources: resourcesAdapterFunc(),\n            source: new jqx.dataAdapter(source),\n            template\n        }\n    }\n    public render() {\n        return (\n            <div id = \"abbss\">\n            <JqxKanban ref={this.myKanban} theme={''}\n                onItemAttrClicked={this.onItemAttrClicked} onColumnAttrClicked={this.onColumnAttrClicked}\n                width={'100%'} template={this.state.template} source={this.state.source} columns={this.state.columns}\n                resources={this.state.resources} columnRenderer={this.state.columnRenderer} height={550}\n                itemRenderer={this.state.itemRenderer} />\n            </div>\n        );\n    }\n    private onItemAttrClicked(event: any): void {\n        const args = event.args;\n        if (args.attribute === 'template') {\n            this.myKanban.current!.removeItem(args.item.id);\n        }\n    };\n    private onColumnAttrClicked(event: any): void {\n        const args = event.args;\n        if (args.attribute === 'button') {\n            args.cancelToggle = true;\n            if (!args.column.collapsed) {\n                const colors = ['#f19b60', '#5dc3f0', '#6bbd49', '#dddddd'];\n                this.myKanban.current!.addItem({\n                    color: colors[Math.floor(Math.random() * 4)],\n                    resourceId: Math.floor(Math.random() * 4),\n                    status: args.column.dataField,\n                    tags: 'new task',\n                    text: '<input placeholder=\"(No Title)\" style=\"width: 96%; margin-top:2px; border-radius: 3px;' +\n                        'border-color: #ddd; line-height:20px; height: 20px;\" class=\"jqx-input\" id=\"newItem' + this.itemIndex + '\" value= \"\" />'\n                });\n                const id = `newItem${this.itemIndex}`;\n                const myInput = document.getElementById(id);\n                if (myInput !== null && myInput !== undefined) {\n                    myInput.addEventListener('mousedown', (eventEl: any): void => {\n                        eventEl.stopPropagation();\n                    });\n                    myInput.addEventListener('mouseup', (eventEl: any): void => {\n                        eventEl.stopPropagation();\n                    });\n                    myInput.addEventListener('keydown', (eventEl: any): void => {\n                        if (eventEl.keyCode === 13) {\n                            const valueElement = `<span>${eventEl.target.value}</span>`;\n                            eventEl.target.insertAdjacentHTML('beforebegin', valueElement);\n                            eventEl.target.remove();\n                        }\n                    });\n                    myInput.focus();\n                }\n                this.itemIndex++;\n            }\n        }\n    };\n}\nexport default DVKanban;"]},"metadata":{},"sourceType":"module"}