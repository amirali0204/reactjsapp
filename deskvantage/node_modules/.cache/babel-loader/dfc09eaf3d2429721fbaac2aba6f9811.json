{"ast":null,"code":"/*\r\njQWidgets v9.0.0 (2020-Jan)\r\nCopyright (c) 2011-2020 jQWidgets.\r\nLicense: https://jqwidgets.com/license/\r\n*/\n\n/* eslint-disable */\n(function (a) {\n  a.extend(a.expr[\":\"], {\n    data: a.expr.createPseudo ? a.expr.createPseudo(function (b) {\n      return function (c) {\n        return !!a.data(c, b);\n      };\n    }) : function (d, c, b) {\n      return !!a.data(d, b[3]);\n    }\n  });\n  a.jqx.jqxWidget(\"jqxSortable\", \"\", {});\n  a.extend(a.jqx._jqxSortable.prototype, {\n    defineInstance: function defineInstance() {\n      var b = {\n        appendTo: \"parent\",\n        axis: false,\n        connectWith: false,\n        containment: false,\n        cursor: \"auto\",\n        cursorAt: false,\n        dropOnEmpty: true,\n        forcePlaceholderSize: false,\n        forceHelperSize: false,\n        maxItems: 9999,\n        grid: false,\n        handle: false,\n        helper: \"original\",\n        items: \"> *\",\n        opacity: false,\n        placeholderShow: false,\n        revert: false,\n        scroll: true,\n        scrollSensitivity: 20,\n        scrollSpeed: 20,\n        scope: \"default\",\n        tolerance: \"intersect\",\n        zIndex: 999999,\n        element: null,\n        defaultElement: \"<div>\",\n        mouseHandled: false,\n        cancel: \"input,textarea,button,select,option\",\n        distance: 1,\n        delay: 0,\n        widgetName: \"widget\",\n        widgetEventPrefix: \"\",\n        disabled: false,\n        create: null,\n        _touchEvents: {\n          mousedown: a.jqx.mobile.getTouchEventName(\"touchstart\"),\n          click: a.jqx.mobile.getTouchEventName(\"touchstart\"),\n          mouseup: a.jqx.mobile.getTouchEventName(\"touchend\"),\n          mousemove: a.jqx.mobile.getTouchEventName(\"touchmove\"),\n          mouseenter: \"mouseenter\",\n          mouseleave: \"mouseleave\"\n        },\n        _events: [\"activate\", \"beforeStop\", \"change\", \"deactivate\", \"out\", \"over\", \"receive\", \"remove\", \"sort\", \"start\", \"stop\", \"update\", \"create\"]\n      };\n\n      if (this === a.jqx._jqxSortable.prototype) {\n        return b;\n      }\n\n      a.extend(true, this, b);\n      return b;\n    },\n    createInstance: function createInstance() {\n      this._render();\n    },\n    _render: function _render() {\n      var c = this;\n      this._isTouchDevice = a.jqx.mobile.isTouchDevice();\n      this.containerCache = {};\n      var b = a(b || c.defaultElement || this)[0];\n      c.document = a(b.style ? b.ownerDocument : b.document || b);\n      c.window = a(c.document[0].defaultView || c.document[0].parentWindow);\n      c.host.addClass(c.toThemeProperty(\"jqx-widget jqx-sortable\"));\n      c.refresh();\n      c.floating = c.itemsArray.length ? c.axis === \"x\" || c._isFloating(c.itemsArray[0].item) : false;\n      c.offset = c.host.offset();\n\n      c._handleMouse();\n\n      c._cancelSelect();\n\n      c.ready = true;\n    },\n    _isOverAxis: function _isOverAxis(c, b, d) {\n      return c >= b && c < b + d;\n    },\n    _isFloating: function _isFloating(b) {\n      return /left|right/.test(b.css(\"float\")) || /inline|table-cell/.test(b.css(\"display\"));\n    },\n    _getEvent: function _getEvent(b) {\n      if (this._isTouchDevice) {\n        return this._touchEvents[b] + \".jqxSortable\" + this.element.id;\n      } else {\n        return b + \".jqxSortable\" + this.element.id;\n      }\n    },\n    _handleMouse: function _handleMouse() {\n      var b = this;\n      b.addHandler(this.host, this._getEvent(\"mousedown\"), function (c) {\n        return b._mouseDown(c);\n      });\n      b.addHandler(b.host, this._getEvent(\"click\"), function (c) {\n        if (true === a.data(c.target, b.widgetName + \".preventClickEvent\")) {\n          a.removeData(c.target, b.widgetName + \".preventClickEvent\");\n          c.stopImmediatePropagation();\n          return false;\n        }\n      });\n      b.started = false;\n    },\n    widget: function widget() {\n      return this.host;\n    },\n    _mouseDestroy: function _mouseDestroy() {\n      var b = this;\n      b.host.off(\".\" + this.widgetName);\n\n      if (b._mouseMoveDelegate) {\n        b.removeHandler(a(document), this._getEvent(\"mousemove\"));\n        b.removeHandler(a(document), this._getEvent(\"mouseup\"));\n      }\n    },\n    _mouseDown: function _mouseDown(b) {\n      var g = this;\n\n      if (g.mouseHandled) {\n        return;\n      }\n\n      g._mouseMoved = false;\n\n      if (g._isTouchDevice) {\n        var j = a.jqx.position(b);\n        b.pageX = j.left;\n        b.pageY = j.top;\n      }\n\n      g._mouseStarted && g._mouseUp(b);\n      g._mouseDownEvent = b;\n\n      if (this._isTouchDevice) {\n        b.which = 1;\n      }\n\n      var d = b.which === 1,\n          h = typeof this.cancel === \"string\" && b.target.nodeName ? a(b.target).closest(this.cancel).length : false;\n\n      if (this._isTouchDevice) {\n        d = true;\n      }\n\n      if (!d || h || !this._mouseCapture(b)) {\n        return true;\n      }\n\n      g.mouseDelayMet = !g.delay;\n\n      if (!g.mouseDelayMet) {\n        g._mouseDelayTimer = setTimeout(function () {\n          g.mouseDelayMet = true;\n        }, g.delay);\n      }\n\n      if (g._mouseDistanceMet(b) && g._mouseDelayMet(b)) {\n        g._mouseStarted = g._mouseStart(b) !== false;\n\n        if (!g._mouseStarted) {\n          b.preventDefault();\n          return true;\n        }\n      }\n\n      if (true === a.data(b.target, this.widgetName + \".preventClickEvent\")) {\n        a.removeData(b.target, this.widgetName + \".preventClickEvent\");\n      }\n\n      g._mouseMoveDelegate = function (k) {\n        return g._mouseMove(k);\n      };\n\n      g._mouseUpDelegate = function (k) {\n        return g._mouseUp(k);\n      };\n\n      g.addHandler(a(document), this._getEvent(\"mousemove\"), g._mouseMoveDelegate);\n      g.addHandler(a(document), this._getEvent(\"mouseup\"), g._mouseUpDelegate);\n\n      try {\n        if (document.referrer != \"\" || window.frameElement) {\n          if (window.top != null && window.top != window.self) {\n            var f = function f(k) {\n              g._mouseUp(k);\n            };\n\n            var c = null;\n\n            if (window.parent && document.referrer) {\n              c = document.referrer;\n            }\n\n            if (c && c.indexOf(document.location.host) != -1) {\n              if (window.top.document) {\n                if (window.top.document.addEventListener) {\n                  window.top.document.addEventListener(\"mouseup\", f, false);\n                } else {\n                  if (window.top.document.attachEvent) {\n                    window.top.document.attachEvent(\"onmouseup\", f);\n                  }\n                }\n              }\n            }\n          }\n        }\n      } catch (i) {}\n\n      b.preventDefault();\n      var e = true;\n      return true;\n    },\n    _mouseMove: function _mouseMove(c) {\n      var b = this;\n\n      if (this._isTouchDevice) {\n        c.which = 1;\n        var d = a.jqx.position(c);\n        c.pageX = d.left;\n        c.pageY = d.top;\n      }\n\n      if (b._mouseMoved) {\n        if (a.jqx.browser.msie && a.jqx.browser.version > 11) {\n          if (!c.which) {\n            return b._mouseUp(c);\n          }\n        } else {\n          if (a.jqx.browser.msie && (!document.documentMode || document.documentMode < 9) && !c.button) {\n            return b._mouseUp(c);\n          } else {\n            if (!c.which) {\n              return b._mouseUp(c);\n            }\n          }\n        }\n      }\n\n      if (c.which || c.button) {\n        b._mouseMoved = true;\n      }\n\n      if (b._mouseStarted) {\n        b._mouseDrag(c);\n\n        return c.preventDefault();\n      }\n\n      if (b._mouseDistanceMet(c) && b._mouseDelayMet(c)) {\n        b._mouseStarted = b._mouseStart(b._mouseDownEvent, c) !== false;\n        b._mouseStarted ? b._mouseDrag(c) : b._mouseUp(c);\n      }\n\n      return !b._mouseStarted;\n    },\n    _mouseUp: function _mouseUp(e) {\n      var d = this;\n\n      try {\n        d.removeHandler(a(document), this._getEvent(\"mousemove\"));\n        d.removeHandler(a(document), this._getEvent(\"mouseup\"));\n\n        if (d._mouseStarted) {\n          d._mouseStarted = false;\n\n          if (e.target === d._mouseDownEvent.target) {\n            a.data(e.target, d.widgetName + \".preventClickEvent\", true);\n          }\n\n          d._mouseStop(e);\n        }\n\n        var b = false;\n      } catch (c) {}\n\n      return false;\n    },\n    _mouseDistanceMet: function _mouseDistanceMet(b) {\n      return Math.max(Math.abs(this._mouseDownEvent.pageX - b.pageX), Math.abs(this._mouseDownEvent.pageY - b.pageY)) >= this.distance;\n    },\n    _mouseDelayMet: function _mouseDelayMet() {\n      return this.mouseDelayMet;\n    },\n    scrollParent: function scrollParent(d) {\n      var c = this.css(\"position\"),\n          b = c === \"absolute\",\n          e = d ? /(auto|scroll|hidden)/ : /(auto|scroll)/,\n          f = this.parents().filter(function () {\n        var g = a(this);\n\n        if (b && g.css(\"position\") === \"static\") {\n          return false;\n        }\n\n        return e.test(g.css(\"overflow\") + g.css(\"overflow-y\") + g.css(\"overflow-x\"));\n      }).eq(0);\n      return c === \"fixed\" || !f.length ? a(this[0].ownerDocument || document) : f;\n    },\n    destroy: function destroy() {\n      this.host.removeClass(\"jqx-sortable jqx-sortable-disabled\").find(\".jqx-sortable-handle\").removeClass(\"jqx-sortable-handle\");\n\n      this._mouseDestroy();\n\n      for (var b = this.itemsArray.length - 1; b >= 0; b--) {\n        this.itemsArray[b].item.removeData(this.widgetName + \"-item\");\n      }\n\n      return this;\n    },\n    _mouseCapture: function _mouseCapture(d, e) {\n      var b = null,\n          f = false,\n          c = this;\n\n      if (c.reverting) {\n        return false;\n      }\n\n      if (c.disabled || c.type === \"static\") {\n        return false;\n      }\n\n      c._refreshItems(d);\n\n      a(d.target).parents().each(function () {\n        if (a.data(this, c.widgetName + \"-item\") === c) {\n          b = a(this);\n          return false;\n        }\n      });\n\n      if (a.data(d.target, c.widgetName + \"-item\") === c) {\n        b = a(d.target);\n      }\n\n      if (!b) {\n        return false;\n      }\n\n      if (c.handle && !e) {\n        a(c.handle, b).find(\"*\").addBack().each(function () {\n          if (this === d.target) {\n            f = true;\n          }\n        });\n\n        if (!f) {\n          return false;\n        }\n      }\n\n      c.currentItem = b;\n\n      c._removeCurrentsFromItems();\n\n      return true;\n    },\n    _mouseStart: function _mouseStart(f, g, c) {\n      var d,\n          b,\n          e = this;\n      e.currentContainer = this;\n      e._currentContainer = this;\n      e.refreshPositions();\n      e.helper = e._utility(f);\n\n      e._cacheHelperProportions();\n\n      e._storeMargins();\n\n      e.scrollParent = e.helper.scrollParent();\n      e.offset = e.currentItem.offset();\n      e.offset = {\n        top: e.offset.top - e.margins.top,\n        left: e.offset.left - e.margins.left\n      };\n      a.extend(e.offset, {\n        click: {\n          left: f.pageX - e.offset.left,\n          top: f.pageY - e.offset.top\n        },\n        parent: e._getParentOffset(),\n        relative: e._getRelativeOffset()\n      });\n      e.helper.css(\"position\", \"absolute\");\n      e.cssPosition = e.helper.css(\"position\");\n      e.originalPosition = e._generatePosition(f);\n      e.originalPageX = f.pageX;\n      e.originalPageY = f.pageY;\n      e.cursorAt && e._adjustOffsetFromHelper(e.cursorAt);\n      e.domPosition = {\n        prev: e.currentItem.prev()[0],\n        parent: e.currentItem.parent()[0]\n      };\n\n      if (e.helper[0] !== e.currentItem[0]) {\n        e.currentItem.hide();\n      }\n\n      e._createPlaceholder();\n\n      if (e.containment) {\n        e._setContainment();\n      }\n\n      if (e.cursor && e.cursor !== \"auto\") {\n        b = e.document.find(\"body\");\n        e.storedCursor = b.css(\"cursor\");\n        b.css(\"cursor\", e.cursor);\n        e.storedStylesheet = a(\"<style>*{ cursor: \" + e.cursor + \" !important; }</style>\").appendTo(b);\n      }\n\n      if (e.opacity) {\n        if (e.helper.css(\"opacity\")) {\n          e._storedOpacity = e.helper.css(\"opacity\");\n        }\n\n        e.helper.css(\"opacity\", e.opacity);\n      }\n\n      if (e.zIndex) {\n        if (e.helper.css(\"zIndex\")) {\n          e._storedZIndex = e.helper.css(\"zIndex\");\n        }\n\n        e.helper.css(\"zIndex\", e.zIndex);\n      }\n\n      if (e.scrollParent[0] !== e.document[0] && e.scrollParent[0].tagName !== \"HTML\") {\n        e.overflowOffset = e.scrollParent.offset();\n      }\n\n      e._raiseEvent(\"9\", e._uiHash());\n\n      if (!e._preserveHelperProportions) {\n        e._cacheHelperProportions();\n      }\n\n      if (!c) {\n        for (d = e.owners.length - 1; d >= 0; d--) {\n          e.owners[d]._raiseEvent(\"0\", e._uiHash(this));\n        }\n      }\n\n      if (a.jqx.ddmanager) {\n        a.jqx.ddmanager.current = this;\n      }\n\n      if (a.jqx.ddmanager && !e.dropBehaviour) {\n        a.jqx.ddmanager.prepareOffsets(this, f);\n      }\n\n      e.dragging = true;\n      e.helper.addClass(\"jqx-sortable-helper\");\n\n      e._mouseDrag(f);\n\n      return true;\n    },\n    _mouseDrag: function _mouseDrag(g) {\n      var d,\n          f,\n          c,\n          j,\n          h = this,\n          b = false;\n      var e = this;\n      e.position = e._generatePosition(g);\n      e.positionAbs = e._convertPositionTo(\"absolute\");\n\n      if (!e.lastPositionAbs) {\n        e.lastPositionAbs = e.positionAbs;\n      }\n\n      if (e.scroll) {\n        if (e.scrollParent[0] !== e.document[0] && e.scrollParent[0].tagName !== \"HTML\") {\n          if (e.overflowOffset.top + e.scrollParent[0].offsetHeight - g.pageY < h.scrollSensitivity) {\n            e.scrollParent[0].scrollTop = b = e.scrollParent[0].scrollTop + h.scrollSpeed;\n          } else {\n            if (g.pageY - e.overflowOffset.top < h.scrollSensitivity) {\n              e.scrollParent[0].scrollTop = b = e.scrollParent[0].scrollTop - h.scrollSpeed;\n            }\n          }\n\n          if (e.overflowOffset.left + e.scrollParent[0].offsetWidth - g.pageX < h.scrollSensitivity) {\n            e.scrollParent[0].scrollLeft = b = e.scrollParent[0].scrollLeft + h.scrollSpeed;\n          } else {\n            if (g.pageX - e.overflowOffset.left < h.scrollSensitivity) {\n              e.scrollParent[0].scrollLeft = b = e.scrollParent[0].scrollLeft - h.scrollSpeed;\n            }\n          }\n        } else {\n          if (g.pageY - e.document.scrollTop() < h.scrollSensitivity) {\n            b = e.document.scrollTop(e.document.scrollTop() - h.scrollSpeed);\n          } else {\n            if (e.window.height() - (g.pageY - e.document.scrollTop()) < h.scrollSensitivity) {\n              b = e.document.scrollTop(e.document.scrollTop() + h.scrollSpeed);\n            }\n          }\n\n          if (g.pageX - e.document.scrollLeft() < h.scrollSensitivity) {\n            b = e.document.scrollLeft(e.document.scrollLeft() - h.scrollSpeed);\n          } else {\n            if (e.window.width() - (g.pageX - e.document.scrollLeft()) < h.scrollSensitivity) {\n              b = e.document.scrollLeft(e.document.scrollLeft() + h.scrollSpeed);\n            }\n          }\n        }\n\n        if (b !== false && a.jqx.ddmanager && !h.dropBehaviour) {\n          a.jqx.ddmanager.prepareOffsets(this, g);\n        }\n      }\n\n      e.positionAbs = e._convertPositionTo(\"absolute\");\n\n      if (!e.axis || e.axis !== \"y\") {\n        e.helper[0].style.left = e.position.left + \"px\";\n      }\n\n      if (!e.axis || e.axis !== \"x\") {\n        e.helper[0].style.top = e.position.top + \"px\";\n      }\n\n      for (d = e.itemsArray.length - 1; d >= 0; d--) {\n        f = e.itemsArray[d];\n        c = f.item[0];\n        j = e._intersectsWithPointer(f);\n\n        if (!j) {\n          continue;\n        }\n\n        if (f.instance !== e.currentContainer) {\n          continue;\n        }\n\n        if (c !== e.currentItem[0] && e.placeholder[j === 1 ? \"next\" : \"prev\"]()[0] !== c && !a.contains(e.placeholder[0], c) && (e.type === \"semi-dynamic\" ? !a.contains(e.host[0], c) : true)) {\n          e.direction = j === 1 ? \"down\" : \"up\";\n\n          if (e.tolerance === \"pointer\" || e._intersectsWithSides(f)) {\n            e._rearrange(g, f);\n          } else {\n            break;\n          }\n\n          e._raiseEvent(\"2\", e._uiHash());\n\n          break;\n        }\n      }\n\n      e._contactOwners(g);\n\n      if (a.jqx.ddmanager) {\n        a.jqx.ddmanager.drag(this, g);\n      }\n\n      e._raiseEvent(\"8\", e._uiHash());\n\n      e.lastPositionAbs = e.positionAbs;\n      return false;\n    },\n    _mouseStop: function _mouseStop(d, f) {\n      var c = this;\n\n      if (!d) {\n        return;\n      }\n\n      if (a.jqx.ddmanager && !this.dropBehaviour) {\n        a.jqx.ddmanager.drop(this, d);\n      }\n\n      if (c.revert) {\n        var c = this,\n            g = c.placeholder.offset(),\n            b = c.axis,\n            e = {};\n\n        if (!b || b === \"x\") {\n          e.left = g.left - c.offset.parent.left - c.margins.left + (c.offsetParent[0] === c.document[0].body ? 0 : c.offsetParent[0].scrollLeft);\n        }\n\n        if (!b || b === \"y\") {\n          e.top = g.top - c.offset.parent.top - c.margins.top + (c.offsetParent[0] === c.document[0].body ? 0 : c.offsetParent[0].scrollTop);\n        }\n\n        c.reverting = true;\n        a(this.helper).animate(e, parseInt(this.revert, 10) || 500, function () {\n          c._clear(d);\n        });\n      } else {\n        c._clear(d, f);\n      }\n\n      return false;\n    },\n    cancelSort: function cancelSort() {\n      var c = this;\n\n      if (c.dragging) {\n        c._mouseUp({\n          target: null\n        });\n\n        if (c.helper === \"original\") {\n          c.currentItem.css(c._storedCSS).removeClass(\"jqx-sortable-helper\");\n        } else {\n          c.currentItem.show();\n        }\n\n        for (var b = c.owners.length - 1; b >= 0; b--) {\n          c.owners[b]._raiseEvent(\"3\", c._uiHash(this));\n\n          if (c.owners[b].containerCache.over) {\n            c.owners[b]._raiseEvent(\"4\", c._uiHash(this));\n\n            c.owners[b].containerCache.over = 0;\n          }\n        }\n      }\n\n      if (c.placeholder) {\n        if (c.placeholder[0].parentNode) {\n          c.placeholder[0].parentNode.removeChild(c.placeholder[0]);\n        }\n\n        if (c.helper !== \"original\" && c.helper && c.helper[0].parentNode) {\n          c.helper.remove();\n        }\n\n        a.extend(this, {\n          helper: null,\n          dragging: false,\n          reverting: false,\n          _noFinalSort: null\n        });\n\n        if (c.domPosition.prev) {\n          a(c.domPosition.prev).after(c.currentItem);\n        } else {\n          a(c.domPosition.parent).prepend(c.currentItem);\n        }\n      }\n\n      return this;\n    },\n    serialize: function serialize(d) {\n      var b = this._getItemsAsjQuery(d && d.connected),\n          c = [];\n\n      d = d || {};\n      a(b).each(function () {\n        var e = (a(d.item || this).attr(d.attribute || \"id\") || \"\").match(d.expression || /(.+)[\\-=_](.+)/);\n\n        if (e) {\n          c.push((d.key || e[1] + \"[]\") + \"=\" + (d.key && d.expression ? e[1] : e[2]));\n        }\n      });\n\n      if (!c.length && d.key) {\n        c.push(d.key + \"=\");\n      }\n\n      return c.join(\"&\");\n    },\n    toArray: function toArray(d) {\n      var b = this._getItemsAsjQuery(d && d.connected),\n          c = [];\n\n      d = d || {};\n      b.each(function () {\n        c.push(a(d.item || this).attr(d.attribute || \"id\") || \"\");\n      });\n      return c;\n    },\n    _intersectsWith: function _intersectsWith(o) {\n      var e = this.positionAbs.left,\n          d = e + this.helperProportions.width,\n          m = this.positionAbs.top,\n          k = m + this.helperProportions.height,\n          f = o.left,\n          c = f + o.width,\n          p = o.top,\n          j = p + o.height,\n          q = this.offset.click.top,\n          i = this.offset.click.left,\n          h = this.axis === \"x\" || m + q > p && m + q < j,\n          n = this.axis === \"y\" || e + i > f && e + i < c,\n          g = h && n;\n\n      if (this.tolerance === \"pointer\" || this.forcePointerForowners || this.tolerance !== \"pointer\" && this.helperProportions[this.floating ? \"width\" : \"height\"] > o[this.floating ? \"width\" : \"height\"]) {\n        return g;\n      } else {\n        return f < e + this.helperProportions.width / 2 && d - this.helperProportions.width / 2 < c && p < m + this.helperProportions.height / 2 && k - this.helperProportions.height / 2 < j;\n      }\n    },\n    _intersectsWithPointer: function _intersectsWithPointer(d) {\n      var e = this.axis === \"x\" || this._isOverAxis(this.positionAbs.top + this.offset.click.top, d.top, d.height),\n          c = this.axis === \"y\" || this._isOverAxis(this.positionAbs.left + this.offset.click.left, d.left, d.width),\n          g = e && c,\n          b = this._getDragVerticalDirection(),\n          f = this._getDragHorizontalDirection();\n\n      if (!g) {\n        return false;\n      }\n\n      return this.floating ? f && f === \"right\" || b === \"down\" ? 2 : 1 : b && (b === \"down\" ? 2 : 1);\n    },\n    _intersectsWithSides: function _intersectsWithSides(e) {\n      var c = this._isOverAxis(this.positionAbs.top + this.offset.click.top, e.top + e.height / 2, e.height),\n          d = this._isOverAxis(this.positionAbs.left + this.offset.click.left, e.left + e.width / 2, e.width),\n          b = this._getDragVerticalDirection(),\n          f = this._getDragHorizontalDirection();\n\n      if (this.floating && f) {\n        return f === \"right\" && d || f === \"left\" && !d;\n      } else {\n        return b && (b === \"down\" && c || b === \"up\" && !c);\n      }\n    },\n    _getDragVerticalDirection: function _getDragVerticalDirection() {\n      var b = this.positionAbs.top - this.lastPositionAbs.top;\n      return b !== 0 && (b > 0 ? \"down\" : \"up\");\n    },\n    _getDragHorizontalDirection: function _getDragHorizontalDirection() {\n      var b = this.positionAbs.left - this.lastPositionAbs.left;\n      return b !== 0 && (b > 0 ? \"right\" : \"left\");\n    },\n    refresh: function refresh(b) {\n      this._refreshItems(b);\n\n      this.refreshPositions();\n      return this;\n    },\n    _connectWith: function _connectWith() {\n      var b = this;\n      return b.connectWith.constructor === String ? [b.connectWith] : b.connectWith;\n    },\n    _getItemsAsjQuery: function _getItemsAsjQuery(b) {\n      var d,\n          c,\n          k,\n          f,\n          g = [],\n          e = [],\n          h = this._connectWith();\n\n      if (h && b) {\n        for (d = h.length - 1; d >= 0; d--) {\n          k = a(h[d], this.document[0]);\n\n          for (c = k.length - 1; c >= 0; c--) {\n            f = a.data(k[c], this.widgetFullName).instance;\n\n            if (f && f !== this && !f.disabled) {\n              e.push([a.isFunction(f.items) ? f.items.call(f.host) : a(f.items, f.host).not(\".jqx-sortable-helper\").not(\".jqx-sortable-placeholder\"), f]);\n            }\n          }\n        }\n      }\n\n      e.push([a.isFunction(this.items) ? this.items.call(this.host, null, {\n        options: this,\n        item: this.currentItem\n      }) : a(this.items, this.host).not(\".jqx-sortable-helper\").not(\".jqx-sortable-placeholder\"), this]);\n\n      function l() {\n        g.push(this);\n      }\n\n      for (d = e.length - 1; d >= 0; d--) {\n        e[d][0].each(l);\n      }\n\n      return a(g);\n    },\n    _removeCurrentsFromItems: function _removeCurrentsFromItems() {\n      var b = this.currentItem.find(\":data(\" + this.widgetName + \"-item)\");\n      this.itemsArray = a.grep(this.itemsArray, function (d) {\n        for (var c = 0; c < b.length; c++) {\n          if (b[c] === d.item[0]) {\n            return false;\n          }\n        }\n\n        return true;\n      });\n    },\n    _refreshItems: function _refreshItems(b) {\n      this.itemsArray = [];\n      this.owners = [this];\n\n      var f,\n          d,\n          m,\n          g,\n          l,\n          c,\n          o,\n          n,\n          h = this.itemsArray,\n          e = [[a.isFunction(this.items) ? this.items.call(this.host[0], b, {\n        item: this.currentItem\n      }) : a(this.items, this.host), this]],\n          k = this._connectWith();\n\n      if (k && this.ready) {\n        for (f = k.length - 1; f >= 0; f--) {\n          m = a(k[f], this.document[0]);\n\n          for (d = m.length - 1; d >= 0; d--) {\n            g = a.data(m[d], this.widgetName);\n\n            if (g && g !== this && !g.instance.disabled) {\n              e.push([a.isFunction(g.instance.items) ? g.items.call(g.instance.host[0], b, {\n                item: this.currentItem\n              }) : a(g.instance.items, g.instance.host), g.instance]);\n              this.owners.push(g.instance);\n            }\n          }\n        }\n      }\n\n      for (f = e.length - 1; f >= 0; f--) {\n        l = e[f][1];\n        c = e[f][0];\n\n        for (d = 0, n = c.length; d < n; d++) {\n          o = a(c[d]);\n          o.data(this.widgetName + \"-item\", l);\n          h.push({\n            item: o,\n            instance: l,\n            width: 0,\n            height: 0,\n            left: 0,\n            top: 0\n          });\n        }\n      }\n    },\n    refreshPositions: function refreshPositions(b) {\n      if (this.offsetParent && this.helper) {\n        this.offset.parent = this._getParentOffset();\n      }\n\n      var d, e, c, f;\n\n      for (d = this.itemsArray.length - 1; d >= 0; d--) {\n        e = this.itemsArray[d];\n\n        if (e.instance !== this.currentContainer && this.currentContainer && e.item[0] !== this.currentItem[0]) {\n          continue;\n        }\n\n        c = this.toleranceElement ? a(this.toleranceElement, e.item) : e.item;\n\n        if (!b) {\n          e.width = c.outerWidth();\n          e.height = c.outerHeight();\n        }\n\n        f = c.offset();\n        e.left = f.left;\n        e.top = f.top;\n      }\n\n      if (this.custom && this.custom.refreshowners) {\n        this.custom.refreshowners.call(this);\n      } else {\n        for (d = this.owners.length - 1; d >= 0; d--) {\n          f = this.owners[d].host.offset();\n          this.owners[d].containerCache.left = f.left;\n          this.owners[d].containerCache.top = f.top;\n          this.owners[d].containerCache.width = this.owners[d].host.outerWidth();\n          this.owners[d].containerCache.height = this.owners[d].host.outerHeight();\n        }\n      }\n\n      return this;\n    },\n    _cancelSelect: function _cancelSelect() {\n      var b = this;\n      b.host.addClass(\"jqx-disableselect\");\n    },\n    _createPlaceholder: function _createPlaceholder(c) {\n      var c = c || this;\n      var b,\n          d = c;\n\n      if (!d.placeholderShow || d.placeholderShow.constructor === String) {\n        b = d.placeholderShow;\n        d.placeholderShow = {\n          element: function element() {\n            var f = c.currentItem[0].nodeName.toLowerCase(),\n                e = a(\"<\" + f + \">\", c.document[0]).addClass(b || c.currentItem[0].className + \" jqx-sortable-placeholder\").removeClass(\"jqx-sortable-helper\");\n\n            if (f === \"tr\") {\n              c.currentItem.children().each(function () {\n                a(\"<td>&#160;</td>\", c.document[0]).attr(\"colspan\", a(this).attr(\"colspan\") || 1).appendTo(e);\n              });\n            } else {\n              if (f === \"img\") {\n                e.attr(\"src\", c.currentItem.attr(\"src\"));\n              }\n            }\n\n            if (!b) {\n              e.css(\"visibility\", \"hidden\");\n            }\n\n            return e;\n          },\n          update: function update(e, f) {\n            if (b && !d.forcePlaceholderSize) {\n              return;\n            }\n\n            if (!f.height()) {\n              f.height(c.currentItem.innerHeight() - parseInt(c.currentItem.css(\"paddingTop\") || 0, 10) - parseInt(c.currentItem.css(\"paddingBottom\") || 0, 10));\n            }\n\n            if (!f.width()) {\n              f.width(c.currentItem.innerWidth() - parseInt(c.currentItem.css(\"paddingLeft\") || 0, 10) - parseInt(c.currentItem.css(\"paddingRight\") || 0, 10));\n            }\n          }\n        };\n      }\n\n      c.placeholder = a(d.placeholderShow.element.call(c.host, c.currentItem));\n      c.currentItem.after(c.placeholder);\n      c.placeholderShow.update(c, c.placeholder);\n    },\n    _contactOwners: function _contactOwners(b) {\n      var g,\n          e,\n          n,\n          h,\n          k,\n          p,\n          q,\n          f,\n          l,\n          d,\n          c = null,\n          o = null;\n\n      for (g = this.owners.length - 1; g >= 0; g--) {\n        if (a.contains(this.currentItem[0], this.owners[g].host[0])) {\n          continue;\n        }\n\n        if (this._intersectsWith(this.owners[g].containerCache)) {\n          if (c && a.contains(this.owners[g].host[0], c.host[0])) {\n            continue;\n          }\n\n          c = this.owners[g];\n          o = g;\n        } else {\n          if (this.owners[g].containerCache.over) {\n            this.owners[g]._raiseEvent(\"4\", this._uiHash(this));\n\n            this.owners[g].containerCache.over = 0;\n          }\n        }\n      }\n\n      if (!c) {\n        return;\n      }\n\n      if (this.owners.length === 1) {\n        if (!this.owners[o].containerCache.over) {\n          this.owners[o]._raiseEvent(\"5\", this._uiHash(this));\n\n          this.owners[o].containerCache.over = 1;\n        }\n      } else {\n        n = 10000;\n        h = null;\n        l = c.floating || this._isFloating(this.currentItem);\n        k = l ? \"left\" : \"top\";\n        p = l ? \"width\" : \"height\";\n        d = l ? \"clientX\" : \"clientY\";\n        var m = this.itemsArray;\n\n        for (e = m.length - 1; e >= 0; e--) {\n          if (!a.contains(this.owners[o].host[0], m[e].item[0])) {\n            continue;\n          }\n\n          if (m[e].item[0] === this.currentItem[0]) {\n            continue;\n          }\n\n          q = m[e].item.offset()[k];\n          f = false;\n\n          if (b[d] - q > m[e][p] / 2) {\n            f = true;\n          }\n\n          if (Math.abs(b[d] - q) < n) {\n            n = Math.abs(b[d] - q);\n            h = m[e];\n            this.direction = f ? \"up\" : \"down\";\n          }\n        }\n\n        if (!h && !this.dropOnEmpty) {\n          return;\n        }\n\n        if (this.currentContainer === this.owners[o]) {\n          if (!this.currentContainer.containerCache.over) {\n            this.owners[o]._raiseEvent(\"5\", this._uiHash());\n\n            this.currentContainer.containerCache.over = 1;\n          }\n\n          return;\n        }\n\n        if (this.owners[o].host.children().length + 1 > this.owners[o].maxItems) {\n          this.currentContainer = this._currentContainer;\n          h = this._rearrange(b, null, this.currentContainer.host, true);\n          this._currentContainer.containerCache.over = 1;\n          this.placeholderShow.update(this.currentContainer, this.placeholder);\n          return;\n        }\n\n        h ? this._rearrange(b, h, null, true) : this._rearrange(b, null, this.owners[o].host, true);\n\n        this._raiseEvent(\"2\", this._uiHash());\n\n        this.owners[o]._raiseEvent(\"2\", this._uiHash(this));\n\n        this.currentContainer = this.owners[o];\n        this.placeholderShow.update(this.currentContainer, this.placeholder);\n\n        this.owners[o]._raiseEvent(\"5\", this._uiHash(this));\n\n        this.owners[o].containerCache.over = 1;\n      }\n    },\n    _utility: function _utility(c) {\n      var d = this,\n          b = a.isFunction(d.helper) ? a(d.helper.apply(this.host[0], [c, this.currentItem])) : d.helper === \"clone\" ? this.currentItem.clone() : this.currentItem;\n\n      if (!b.parents(\"body\").length) {\n        a(d.appendTo !== \"parent\" ? d.appendTo : this.currentItem[0].parentNode)[0].appendChild(b[0]);\n      }\n\n      if (b[0] === this.currentItem[0]) {\n        this._storedCSS = {\n          width: this.currentItem[0].style.width,\n          height: this.currentItem[0].style.height,\n          position: this.currentItem.css(\"position\"),\n          top: this.currentItem.css(\"top\"),\n          left: this.currentItem.css(\"left\")\n        };\n      }\n\n      if (!b[0].style.width || d.forceHelperSize) {\n        b.width(this.currentItem.width());\n      }\n\n      if (!b[0].style.height || d.forceHelperSize) {\n        b.height(this.currentItem.height());\n      }\n\n      b.scrollParent = function (g) {\n        var f = this.css(\"position\"),\n            e = f === \"absolute\",\n            h = g ? /(auto|scroll|hidden)/ : /(auto|scroll)/,\n            i = this.parents().filter(function () {\n          var j = a(this);\n\n          if (e && j.css(\"position\") === \"static\") {\n            return false;\n          }\n\n          return h.test(j.css(\"overflow\") + j.css(\"overflow-y\") + j.css(\"overflow-x\"));\n        }).eq(0);\n        return f === \"fixed\" || !i.length ? a(this[0].ownerDocument || document) : i;\n      };\n\n      return b;\n    },\n    _adjustOffsetFromHelper: function _adjustOffsetFromHelper(b) {\n      if (typeof b === \"string\") {\n        b = b.split(\" \");\n      }\n\n      if (a.isArray(b)) {\n        b = {\n          left: +b[0],\n          top: +b[1] || 0\n        };\n      }\n\n      if (\"left\" in b) {\n        this.offset.click.left = b.left + this.margins.left;\n      }\n\n      if (\"right\" in b) {\n        this.offset.click.left = this.helperProportions.width - b.right + this.margins.left;\n      }\n\n      if (\"top\" in b) {\n        this.offset.click.top = b.top + this.margins.top;\n      }\n\n      if (\"bottom\" in b) {\n        this.offset.click.top = this.helperProportions.height - b.bottom + this.margins.top;\n      }\n    },\n    _getParentOffset: function _getParentOffset() {\n      this.offsetParent = this.helper.offsetParent();\n      var b = this.offsetParent.offset();\n\n      if (this.cssPosition === \"absolute\" && this.scrollParent[0] !== this.document[0] && a.contains(this.scrollParent[0], this.offsetParent[0])) {\n        b.left += this.scrollParent.scrollLeft();\n        b.top += this.scrollParent.scrollTop();\n      }\n\n      if (this.offsetParent[0] === this.document[0].body || this.offsetParent[0].tagName && this.offsetParent[0].tagName.toLowerCase() === \"html\" && a.jqx.browser.msie) {\n        b = {\n          top: 0,\n          left: 0\n        };\n      }\n\n      return {\n        top: b.top + (parseInt(this.offsetParent.css(\"borderTopWidth\"), 10) || 0),\n        left: b.left + (parseInt(this.offsetParent.css(\"borderLeftWidth\"), 10) || 0)\n      };\n    },\n    _getRelativeOffset: function _getRelativeOffset() {\n      if (this.cssPosition === \"relative\") {\n        var b = this.currentItem.position();\n        return {\n          top: b.top - (parseInt(this.helper.css(\"top\"), 10) || 0) + this.scrollParent.scrollTop(),\n          left: b.left - (parseInt(this.helper.css(\"left\"), 10) || 0) + this.scrollParent.scrollLeft()\n        };\n      } else {\n        return {\n          top: 0,\n          left: 0\n        };\n      }\n    },\n    _storeMargins: function _storeMargins() {\n      this.margins = {\n        left: parseInt(this.currentItem.css(\"marginLeft\"), 10) || 0,\n        top: parseInt(this.currentItem.css(\"marginTop\"), 10) || 0\n      };\n    },\n    _cacheHelperProportions: function _cacheHelperProportions() {\n      this.helperProportions = {\n        width: this.helper.outerWidth(),\n        height: this.helper.outerHeight()\n      };\n    },\n    _setContainment: function _setContainment() {\n      var c,\n          e,\n          b,\n          d = this;\n\n      if (d.containment === \"parent\") {\n        d.containment = this.helper[0].parentNode;\n      }\n\n      if (d.containment === \"document\" || d.containment === \"window\") {\n        this.containment = [0 - this.offset.relative.left - this.offset.parent.left, 0 - this.offset.relative.top - this.offset.parent.top, d.containment === \"document\" ? this.document.width() : this.window.width() - this.helperProportions.width - this.margins.left, (d.containment === \"document\" ? this.document.width() : this.window.height() || this.document[0].body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top];\n      }\n    },\n    _convertPositionTo: function _convertPositionTo(e, g) {\n      if (!g) {\n        g = this.position;\n      }\n\n      var c = e === \"absolute\" ? 1 : -1,\n          b = this.cssPosition === \"absolute\" && !(this.scrollParent[0] !== this.document[0] && a.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent,\n          f = /(html|body)/i.test(b[0].tagName);\n      return {\n        top: g.top + this.offset.relative.top * c + this.offset.parent.top * c - (this.cssPosition === \"fixed\" ? -this.scrollParent.scrollTop() : f ? 0 : b.scrollTop()) * c,\n        left: g.left + this.offset.relative.left * c + this.offset.parent.left * c - (this.cssPosition === \"fixed\" ? -this.scrollParent.scrollLeft() : f ? 0 : b.scrollLeft()) * c\n      };\n    },\n    _generatePosition: function _generatePosition(e) {\n      var g,\n          f,\n          h = this,\n          d = e.pageX,\n          c = e.pageY,\n          b = this.cssPosition === \"absolute\" && !(this.scrollParent[0] !== this.document[0] && a.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent,\n          i = /(html|body)/i.test(b[0].tagName);\n\n      if (this.cssPosition === \"relative\" && !(this.scrollParent[0] !== this.document[0] && this.scrollParent[0] !== this.offsetParent[0])) {\n        this.offset.relative = this._getRelativeOffset();\n      }\n\n      if (this.originalPosition) {\n        if (this.containment) {\n          if (e.pageX - this.offset.click.left < this.containment[0]) {\n            d = this.containment[0] + this.offset.click.left;\n          }\n\n          if (e.pageY - this.offset.click.top < this.containment[1]) {\n            c = this.containment[1] + this.offset.click.top;\n          }\n\n          if (e.pageX - this.offset.click.left > this.containment[2]) {\n            d = this.containment[2] + this.offset.click.left;\n          }\n\n          if (e.pageY - this.offset.click.top > this.containment[3]) {\n            c = this.containment[3] + this.offset.click.top;\n          }\n        }\n\n        if (h.grid) {\n          g = this.originalPageY + Math.round((c - this.originalPageY) / h.grid[1]) * h.grid[1];\n          c = this.containment ? g - this.offset.click.top >= this.containment[1] && g - this.offset.click.top <= this.containment[3] ? g : g - this.offset.click.top >= this.containment[1] ? g - h.grid[1] : g + h.grid[1] : g;\n          f = this.originalPageX + Math.round((d - this.originalPageX) / h.grid[0]) * h.grid[0];\n          d = this.containment ? f - this.offset.click.left >= this.containment[0] && f - this.offset.click.left <= this.containment[2] ? f : f - this.offset.click.left >= this.containment[0] ? f - h.grid[0] : f + h.grid[0] : f;\n        }\n      }\n\n      return {\n        top: c - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + (this.cssPosition === \"fixed\" ? -this.scrollParent.scrollTop() : i ? 0 : b.scrollTop()),\n        left: d - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + (this.cssPosition === \"fixed\" ? -this.scrollParent.scrollLeft() : i ? 0 : b.scrollLeft())\n      };\n    },\n    _rearrange: function _rearrange(f, e, c, d) {\n      c ? c[0].appendChild(this.placeholder[0]) : e.item[0].parentNode.insertBefore(this.placeholder[0], this.direction === \"down\" ? e.item[0] : e.item[0].nextSibling);\n      this.counter = this.counter ? ++this.counter : 1;\n      var b = this.counter;\n\n      this._delay(function () {\n        if (b === this.counter) {\n          this.refreshPositions(!d);\n        }\n      });\n    },\n    _delay: function _delay(e, d) {\n      function c() {\n        return (typeof e === \"string\" ? b[e] : e).apply(b, arguments);\n      }\n\n      var b = this;\n      return setTimeout(c, d || 0);\n    },\n    _clear: function _clear(c, e) {\n      this.reverting = false;\n      var b,\n          f = [];\n\n      if (!this._noFinalSort && this.currentItem.parent().length) {\n        this.placeholder.before(this.currentItem);\n      }\n\n      this._noFinalSort = null;\n\n      if (this.helper[0] === this.currentItem[0]) {\n        for (b in this._storedCSS) {\n          if (this._storedCSS[b] === \"auto\" || this._storedCSS[b] === \"static\") {\n            this._storedCSS[b] = \"\";\n          }\n        }\n\n        this.currentItem.css(this._storedCSS).removeClass(\"jqx-sortable-helper\");\n      } else {\n        this.currentItem.show();\n      }\n\n      if (this.fromOutside && !e) {\n        f.push(function (g) {\n          this._raiseEvent(\"6\", this._uiHash(this.fromOutside));\n        });\n      }\n\n      if ((this.fromOutside || this.domPosition.prev !== this.currentItem.prev().not(\".jqx-sortable-helper\")[0] || this.domPosition.parent !== this.currentItem.parent()[0]) && !e) {\n        f.push(function (g) {\n          this._raiseEvent(\"11\", this._uiHash());\n        });\n      }\n\n      if (this !== this.currentContainer) {\n        if (!e) {\n          f.push(function (g) {\n            this._raiseEvent(\"7\", this._uiHash());\n          });\n          f.push(function (g) {\n            return function (h) {\n              g._raiseEvent(\"6\", this._uiHash(this));\n            };\n          }.call(this, this.currentContainer));\n          f.push(function (g) {\n            return function (h) {\n              g._raiseEvent(\"11\", this._uiHash(this));\n            };\n          }.call(this, this.currentContainer));\n        }\n      }\n\n      function d(i, g, h) {\n        return function (k) {\n          var j = this._events.indexOf(i);\n\n          h._raiseEvent(j, g._uiHash(g));\n        };\n      }\n\n      for (b = this.owners.length - 1; b >= 0; b--) {\n        if (!e) {\n          f.push(d(\"deactivate\", this, this.owners[b]));\n        }\n\n        if (this.owners[b].containerCache.over) {\n          f.push(d(\"out\", this, this.owners[b]));\n          this.owners[b].containerCache.over = 0;\n        }\n      }\n\n      if (this.storedCursor) {\n        this.document.find(\"body\").css(\"cursor\", this.storedCursor);\n        this.storedStylesheet.remove();\n      }\n\n      if (this._storedOpacity) {\n        this.helper.css(\"opacity\", this._storedOpacity);\n      }\n\n      if (this._storedZIndex) {\n        this.helper.css(\"zIndex\", this._storedZIndex === \"auto\" ? \"\" : this._storedZIndex);\n      }\n\n      this.dragging = false;\n\n      if (!e) {\n        this._raiseEvent(\"1\", this._uiHash());\n      }\n\n      this.placeholder[0].parentNode.removeChild(this.placeholder[0]);\n\n      if (!this.cancelHelperRemoval) {\n        if (this.helper[0] !== this.currentItem[0]) {\n          this.helper.remove();\n        }\n\n        this.helper = null;\n      }\n\n      if (!e) {\n        this._raiseEvent(\"10\", this._uiHash());\n      }\n\n      this.fromOutside = false;\n      return !this.cancelHelperRemoval;\n    },\n    disable: function disable() {\n      var b = this;\n      b.disabled = true;\n    },\n    enable: function enable() {\n      var b = this;\n      b.disabled = false;\n    },\n    instance: function instance() {\n      var b = this;\n      return b;\n    },\n    _uiHash: function _uiHash(b) {\n      var c = b || this;\n      return {\n        helper: c.helper,\n        placeholder: c.placeholder || a([]),\n        position: c.position,\n        originalPosition: c.originalPosition,\n        offset: c.positionAbs,\n        item: c.currentItem,\n        sender: b ? b.host : null\n      };\n    },\n    _raiseEvent: function _raiseEvent(b, e) {\n      var d = this;\n      var c = a.Event(d._events[b]);\n      c.args = e;\n      return d.host.trigger(c);\n    },\n    propertyChangedHandler: function propertyChangedHandler(b, c, f, e) {\n      var d = this;\n\n      if (e !== f) {\n        switch (c) {\n          case \"disabled\":\n            d.disabled = e;\n            break;\n        }\n      }\n    }\n  });\n})(jqxBaseFramework);","map":null,"metadata":{},"sourceType":"script"}