{"ast":null,"code":"/*\r\njQWidgets v9.0.0 (2020-Jan)\r\nCopyright (c) 2011-2020 jQWidgets.\r\nLicense: https://jqwidgets.com/license/\r\n*/\n\n/* eslint-disable */\n(function (a) {\n  a.jqx.jqxWidget(\"jqxRibbon\", \"\", {});\n  a.extend(a.jqx._jqxRibbon.prototype, {\n    defineInstance: function defineInstance() {\n      var b = {\n        width: null,\n        height: \"auto\",\n        mode: \"default\",\n        position: \"top\",\n        selectedIndex: -1,\n        selectionMode: \"click\",\n        popupCloseMode: \"click\",\n        animationType: \"fade\",\n        animationDelay: 400,\n        scrollPosition: \"both\",\n        disabled: false,\n        rtl: false,\n        scrollStep: 10,\n        scrollDelay: 30,\n        reorder: false,\n        initContent: null,\n        _roundedCorners: true,\n        _removeByDrag: false,\n        _suppressReorder: true,\n        events: [\"select\", \"unselect\", \"change\", \"_removeByDrag\", \"reorder\"]\n      };\n\n      if (this === a.jqx._jqxRibbon.prototype) {\n        return b;\n      }\n\n      a.extend(true, this, b);\n      return b;\n    },\n    createInstance: function createInstance() {\n      var b = this;\n\n      if (b.host.css(\"display\") === \"none\" || document.body.contains(b.element) === false) {\n        b._initiallyHidden = true;\n      }\n\n      b._browser = a.jqx.browser;\n\n      if (b.mode !== \"popup\" && b.selectedIndex === -1) {\n        b.selectedIndex = 0;\n      }\n\n      b._originalHTML = b.element.innerHTML;\n\n      b._render(true);\n    },\n    render: function render() {\n      this._render();\n    },\n    refresh: function refresh(b) {\n      if (b !== true) {\n        this._render();\n      }\n    },\n    destroy: function destroy() {\n      var b = this;\n\n      b._removeHandlers();\n\n      b.host.remove();\n    },\n    selectAt: function selectAt(b) {\n      this._selectAt(b);\n    },\n    clearSelection: function clearSelection() {\n      if (this.selectedIndex !== -1) {\n        this._clearSelection();\n      }\n    },\n    disableAt: function disableAt(b) {\n      var c = this;\n      c._items[b]._disabled = true;\n      a(c._items[b]).addClass(c.toThemeProperty(\"jqx-fill-state-disabled\"));\n\n      if (b === c.selectedIndex) {\n        c._clearSelection();\n      }\n    },\n    enableAt: function enableAt(b) {\n      var c = this;\n      c._items[b]._disabled = false;\n      a(c._items[b]).removeClass(c.toThemeProperty(\"jqx-fill-state-disabled\"));\n    },\n    hideAt: function hideAt(b) {\n      var c = this;\n      c._items[b].style.display = \"none\";\n\n      c._checkScrollButtons();\n\n      if (b === c.selectedIndex) {\n        c._clearSelection();\n      } else {\n        c._updatePositions();\n      }\n    },\n    showAt: function showAt(b) {\n      var c = this;\n\n      if (c._orientation === \"horizontal\") {\n        c._items[b].style.display = \"inline-block\";\n      } else {\n        c._items[b].style.display = \"inherit\";\n      }\n\n      c._checkScrollButtons();\n\n      c._updatePositions();\n    },\n    val: function val(b) {\n      var c = this;\n\n      if (b) {\n        c._selectAt(b);\n      } else {\n        return c.selectedIndex;\n      }\n    },\n    addAt: function addAt(h, d) {\n      var g = this,\n          k = \"jqx-ribbon-item jqx-ribbon-item-\" + g.position,\n          b = \"jqx-widget-content jqx-ribbon-content-section jqx-ribbon-content-section-\" + g.position;\n\n      g._removeHandlers();\n\n      var f = document.createElement(\"li\");\n      f.innerHTML = d.title;\n      var c = document.createElement(\"div\");\n\n      if (typeof d.content === \"string\") {\n        c.innerHTML = d.content;\n      } else {\n        if (d.content.length !== undefined) {\n          try {\n            if (window.$ !== undefined && d.content instanceof window.$) {\n              a(c).append(d.content);\n            } else {\n              if (a.isArray(d.content)) {\n                for (var e = 0; e < d.content.length; e++) {\n                  d.content[e].appendTo(c);\n                }\n              } else {\n                while (d.content.length > 0) {\n                  c.appendChild(d.content[0]);\n                }\n              }\n            }\n          } catch (j) {}\n        } else {\n          c.appendChild(d.content);\n        }\n      }\n\n      switch (g.position) {\n        case \"top\":\n          k += \" jqx-rc-t\";\n          b += \" jqx-rc-b\";\n          break;\n\n        case \"bottom\":\n          k += \" jqx-rc-b\";\n          b += \" jqx-rc-t\";\n          break;\n\n        case \"left\":\n          k += \" jqx-rc-l\";\n          b += \" jqx-rc-r\";\n          break;\n\n        case \"right\":\n          k += \" jqx-rc-r\";\n          b += \" jqx-rc-l\";\n          break;\n      }\n\n      if (g.mode === \"popup\") {\n        b += \" jqx-ribbon-content-section-popup jqx-ribbon-content-section-\" + g._orientation + \"-popup\";\n      }\n\n      if (g.rtl === true) {\n        k += \" jqx-ribbon-item-rtl\";\n      }\n\n      f.className = g.toThemeProperty(k);\n      c.className = g.toThemeProperty(b);\n\n      if (g._items.length - 1 >= h) {\n        g._headerElement.insertBefore(f, g._items[h]);\n\n        g._contentElement.insertBefore(c, g._contentSections[h]);\n      } else {\n        g._headerElement.appendChild(f);\n\n        g._contentElement.appendChild(c);\n      }\n\n      g._updateItems();\n\n      g._addHandlers();\n\n      g._checkScrollButtons();\n\n      if (h <= g.selectedIndex && g.selectedIndex < g._items.length - 1) {\n        g.selectedIndex++;\n      }\n\n      g._updatePositions();\n\n      if (g.selectedIndex < 0) {\n        return;\n      }\n\n      g._suppressSelectionEvents = true;\n\n      g._selectAt(g.selectedIndex, g.selectedIndex, true);\n    },\n    removeAt: function removeAt(b) {\n      var c = this;\n\n      if (b === c.selectedIndex) {\n        c._clearSelection();\n      }\n\n      a(c._items[b]).remove();\n      a(c._contentSections[b]).remove();\n\n      c._updateItems(true);\n\n      c._updatePositions();\n\n      c._checkScrollButtons();\n    },\n    updateAt: function updateAt(b, c) {\n      var e = this,\n          d = e._items[b];\n      d.innerHTML = c.newTitle;\n      e._contentSections[b].innerHTML = c.newContent;\n      d._isInitialized = false;\n\n      if (e.initContent && b === e.selectedIndex) {\n        e.initContent(b);\n        d._isInitialized = true;\n      }\n\n      e._updatePositions();\n    },\n    setPopupLayout: function setPopupLayout(c, g, e, b) {\n      var f = this,\n          d = f._contentSections[c];\n\n      if (f.mode === \"popup\") {\n        if (!d.getAttribute(\"data-width\")) {\n          if (d.style.width) {\n            d.setAttribute(\"data-width\", d.style.width);\n          }\n\n          if (d.style.height) {\n            d.setAttribute(\"data-height\", d.style.height);\n          }\n        }\n\n        if (e) {\n          d.style.width = f._toPx(e);\n        }\n\n        if (b) {\n          d.style.height = f._toPx(b);\n        }\n\n        d._layout = g;\n\n        f._positionContent(c);\n      }\n    },\n    propertiesChangedHandler: function propertiesChangedHandler(d, b, c) {\n      if (c && c.width && c.height && Object.keys(c).length === 2) {\n        d.element.style.width = d._toPx(d.width);\n        d.element.style.height = d._toPx(d.height);\n\n        d._updateSize();\n      }\n    },\n    propertyChangedHandler: function propertyChangedHandler(d, f, h, g) {\n      if (d.batchUpdate && d.batchUpdate.width && d.batchUpdate.height && Object.keys(d.batchUpdate).length === 2) {\n        return;\n      }\n\n      if (g !== h) {\n        switch (f) {\n          case \"width\":\n          case \"height\":\n            d.element.style[f] = d._toPx(g);\n\n            d._updateSize();\n\n            break;\n\n          case \"position\":\n            d._render();\n\n            break;\n\n          case \"mode\":\n            d._contentElement.style.width = \"auto\";\n\n            d._removeHandlers(null, h);\n\n            d._render();\n\n            break;\n\n          case \"selectedIndex\":\n            d._selectAt(g, h);\n\n            break;\n\n          case \"selectionMode\":\n            d._removeHandlers(h);\n\n            d._addHandlers();\n\n            break;\n\n          case \"scrollPosition\":\n            var b = d._scrollButtonNear;\n            var k = d._scrollButtonFar;\n            a(b).removeClass(d.toThemeProperty(\"jqx-ribbon-scrollbutton-\" + h + \" jqx-rc-tr jqx-rc-bl jqx-rc-tl\"));\n            a(k).removeClass(d.toThemeProperty(\"jqx-ribbon-scrollbutton-\" + h + \" jqx-rc-tr jqx-rc-bl jqx-rc-br\"));\n            b.className += \" \" + d.toThemeProperty(\"jqx-ribbon-scrollbutton-\" + g);\n            k.className += \" \" + d.toThemeProperty(\"jqx-ribbon-scrollbutton-\" + g);\n\n            d._scrollButtonRc(b, k);\n\n            d._checkScrollButtons();\n\n            d._updatePositions();\n\n            break;\n\n          case \"disabled\":\n            if (g === true) {\n              d._removeHandlers();\n\n              d.element.className += \" \" + d.toThemeProperty(\"jqx-fill-state-disabled\");\n            } else {\n              d.host.removeClass(d.toThemeProperty(\"jqx-fill-state-disabled\"));\n\n              d._addHandlers();\n            }\n\n            break;\n\n          case \"theme\":\n            a.jqx.utilities.setTheme(h, g, d.host);\n            break;\n\n          case \"rtl\":\n            if (g === true) {\n              d._headerElement.className += \" \" + d.toThemeProperty(\"jqx-ribbon-header-rtl\");\n\n              for (var e = 0; e < d._items.length; e++) {\n                d._items[e].className += \" \" + d.toThemeProperty(\"jqx-ribbon-item-rtl\");\n              }\n            } else {\n              d._header.removeClass(d.toThemeProperty(\"jqx-ribbon-header-rtl\"));\n\n              for (var c = 0; c < d._items.length; c++) {\n                a(d._items[c]).removeClass(d.toThemeProperty(\"jqx-ribbon-item-rtl\"));\n              }\n            }\n\n            d._positionSelectionToken(d.selectedIndex);\n\n            break;\n        }\n      }\n    },\n    _raiseEvent: function _raiseEvent(g, e) {\n      var c = this.events[g];\n      var f = new a.Event(c);\n      f.owner = this;\n      f.args = e;\n      var b;\n\n      try {\n        b = this.host.trigger(f);\n      } catch (d) {}\n\n      return b;\n    },\n    _render: function _render(c) {\n      var d = this;\n\n      if (c !== true) {\n        d._removeHandlers();\n      }\n\n      d._selectionTokenOffsetY = 0;\n\n      switch (d._browser.browser) {\n        case \"mozilla\":\n          d._browserWidthRtlFlag = 0;\n          d._browserScrollRtlFlag = 1;\n          d._selectionTokenOffsetX = 1;\n          break;\n\n        case \"msie\":\n          d._browserWidthRtlFlag = 0;\n          d._browserScrollRtlFlag = -1;\n\n          if (d._browser.version === \"8.0\") {\n            d._selectionTokenOffsetX = 1;\n          } else {\n            if (d._browser.version === \"7.0\") {\n              d._selectionTokenOffsetX = 0;\n\n              if (d.mode === \"popup\" && (d.position === \"bottom\" || d.position === \"right\")) {\n                d._selectionTokenOffsetY = 2;\n              }\n            } else {\n              d._selectionTokenOffsetX = 0;\n            }\n          }\n\n          break;\n\n        default:\n          d._browserWidthRtlFlag = 1;\n          d._browserScrollRtlFlag = 1;\n          d._selectionTokenOffsetX = 0;\n      }\n\n      if (c === true) {\n        var b = d.host.children();\n        d._headerElement = b[0];\n        d._header = a(b[0]);\n        d._contentElement = b[1];\n        d._content = a(b[1]);\n\n        d._checkStructure(b);\n\n        d._refreshBarPosition();\n      }\n\n      d._headerElement.style[\"float\"] = \"none\";\n      d._contentElement.style.padding = \"0px\";\n      d.element.style.width = d._toPx(d.width);\n      d.element.style.height = d._toPx(d.height);\n\n      if (d.position === \"bottom\" || d.position === \"right\") {\n        d.element.insertBefore(d._contentElement, d._headerElement);\n      }\n\n      if (d.position === \"top\" || d.position === \"bottom\") {\n        d._orientation = \"horizontal\";\n      } else {\n        d._orientation = \"vertical\";\n      }\n\n      if (d.position === \"right\") {\n        d._headerElement.style[\"float\"] = \"right\";\n      } else {\n        if (d.position === \"left\") {\n          d._headerElement.style[\"float\"] = \"left\";\n        }\n      }\n\n      d._contentSections = d._content.children();\n      a.each(d._contentSections, function () {\n        if (this.getAttribute(\"data-width\")) {\n          this.style.width = this.getAttribute(\"data-width\");\n          this.style.height = this.getAttribute(\"data-height\");\n          this.removeAttribute(\"data-width\");\n          this.removeAttribute(\"data-height\");\n        }\n      });\n\n      if (c === true) {\n        d._selectionToken = document.createElement(\"div\");\n        d._selectionToken.className = d.toThemeProperty(\"jqx-widget-content jqx-ribbon-selection-token jqx-ribbon-selection-token-\" + d.position);\n        d.element.appendChild(d._selectionToken);\n      }\n\n      d._updateItems();\n\n      if (d._initiallyHidden !== true) {\n        d._addClasses();\n      }\n\n      if (c === true) {\n        d._appendScrollButtons();\n\n        d._checkScrollButtons();\n      }\n\n      d._allowSelection = true;\n\n      if (d.selectedIndex !== -1) {\n        d._items[d.selectedIndex].className += \" \" + d.toThemeProperty(\"jqx-widget-content jqx-ribbon-item-selected\");\n\n        d._positionSelectionToken(d.selectedIndex);\n\n        d._contentSections[d.selectedIndex].style.display = \"block\";\n\n        if (d.initContent) {\n          d.initContent(d.selectedIndex);\n          d._items[d.selectedIndex]._isInitialized = true;\n        }\n      }\n\n      if (!d.disabled) {\n        d._addHandlers();\n      } else {\n        d.element.className += \" \" + d.toThemeProperty(\"jqx-fill-state-disabled\");\n      }\n\n      a.jqx.utilities.resize(d.host, function () {\n        if (d._initiallyHidden) {\n          d._initiallyHidden = false;\n\n          d._addClasses();\n\n          if (d.selectedIndex !== -1) {\n            d._items[d.selectedIndex].className += \" \" + d.toThemeProperty(\"jqx-widget-content jqx-ribbon-item-selected\");\n          }\n        }\n\n        d._updateSize(true);\n      });\n\n      if (d.mode === \"popup\" && d.theme !== \"\") {\n        setTimeout(function () {\n          d._positionPopup();\n\n          d._positionSelectionToken(d.selectedIndex);\n        }, 30);\n      }\n    },\n    _updateSize: function _updateSize(b) {\n      var c = this;\n\n      if (c._browser.version === \"7.0\" && c._browser.browser === \"msie\") {\n        if (c._orientation === \"horizontal\") {\n          c._header.css(\"width\", c.host.width() - parseInt(c._header.css(\"padding-left\"), 10) - parseInt(c._header.css(\"padding-right\"), 10) - parseInt(c._header.css(\"border-left-width\"), 10) - parseInt(c._header.css(\"border-right-width\"), 10));\n\n          c._contentSections.width(c._content.width() - parseInt(c._contentSections.css(\"border-left-width\"), 10) - parseInt(c._contentSections.css(\"border-right-width\"), 10) - parseInt(c._contentSections.css(\"padding-left\"), 10) - parseInt(c._contentSections.css(\"padding-right\"), 10));\n\n          if (c.mode === \"default\" && typeof c.height === \"string\" && c.height.indexOf(\"%\") !== -1) {\n            c._contentSections.height(c._content.height() - c._header.height() - parseInt(c._contentSections.css(\"border-bottom-width\"), 10) - parseInt(c._contentSections.css(\"border-top-width\"), 10) - 1);\n          }\n        } else {\n          c._header.css(\"height\", c.host.height() - parseInt(c._header.css(\"padding-top\"), 10) - parseInt(c._header.css(\"padding-bottom\"), 10) - parseInt(c._header.css(\"border-top-width\"), 10) - parseInt(c._header.css(\"border-bottom-width\"), 10));\n\n          c._contentSections.height(c._content.height() - parseInt(c._contentSections.css(\"border-top-width\"), 10) - parseInt(c._contentSections.css(\"border-bottom-width\"), 10) - parseInt(c._contentSections.css(\"padding-top\"), 10) - parseInt(c._contentSections.css(\"padding-bottom\"), 10));\n\n          if (c.mode === \"default\" && typeof c.width === \"string\" && c.height.indexOf(\"%\") !== -1) {\n            var d = c.position === \"left\" ? parseInt(c._contentSections.css(\"border-left-width\"), 10) + parseInt(c._contentSections.css(\"border-right-width\"), 10) + 1 : 0;\n\n            c._contentSections.width(c._content.width() - c._header.width() - d);\n          }\n        }\n      }\n\n      c._checkScrollButtons(true);\n\n      c._updatePositions(undefined, b);\n\n      if (c.mode === \"popup\") {\n        c._positionPopup();\n      }\n\n      c._refreshBarPosition();\n    },\n    _stopAnimation: function _stopAnimation() {\n      var c = this;\n\n      if (!c._allowSelection) {\n        c.selectedIndex = c._animatingIndex;\n        var b = a(c._contentSections[c._animatingIndex]);\n\n        c._initAnimate(b);\n\n        b.animate(\"finish\");\n\n        c._clearSelection(true, c._animatingIndex);\n\n        c._allowSelection = true;\n      }\n    },\n    _refreshBarPosition: function _refreshBarPosition() {\n      var c = this;\n\n      if (!this.bar) {\n        var b = a(\"<span></span>\");\n        a(this.host).append(b);\n        b.addClass(this.toThemeProperty(\"jqx-tabs-bar\"));\n        this.bar = b;\n      }\n\n      setTimeout(function () {\n        var f = parseInt(a(c._headerElement).css(\"left\"), 10) - c._headerElement.scrollLeft;\n\n        var e = parseInt(a(c._headerElement).css(\"top\"), 10) - c._headerElement.scrollTop;\n\n        var d = c._animatingIndex !== undefined ? c._animatingIndex : c.selectedIndex;\n\n        if (!c._items[d]) {\n          return;\n        }\n\n        if (!c.bar) {\n          return;\n        }\n\n        if (c.position === \"top\" || c.position === \"bottom\") {\n          c.bar.css(\"left\", c._items[d].offsetLeft + f);\n\n          if (c.position === \"top\") {\n            c.bar.css(\"top\", c._items[d].offsetTop + e + c._items[d].offsetHeight);\n          } else {\n            c.bar.css(\"top\", e);\n          }\n\n          c.bar.width(a(c._items[d]).outerWidth() - 2);\n          c.bar.removeClass(c.toThemeProperty(\"vertical\"));\n        } else {\n          if (c.position === \"left\") {\n            c.bar.css(\"left\", c._items[d].offsetLeft + f + c._items[d].offsetWidth);\n          } else {\n            c.bar.css(\"left\", c._items[d].offsetLeft + f);\n          }\n\n          c.bar.css(\"top\", e + c._items[d].offsetTop);\n          c.bar.height(a(c._items[d]).outerHeight() - 2);\n          c.bar.addClass(c.toThemeProperty(\"vertical\"));\n        }\n      });\n    },\n    _selectAt: function _selectAt(g, j, k) {\n      var f = this;\n\n      if (j === undefined) {\n        j = f.selectedIndex;\n      }\n\n      if (g !== j || k === true) {\n        f._stopAnimation();\n\n        f._refreshBarPosition();\n\n        if (f._allowSelection) {\n          f._animatingIndex = g;\n\n          if (f.selectedIndex !== -1) {\n            f._clearSelection(true, j);\n          }\n\n          f._allowSelection = false;\n          f._selecting = g;\n\n          if (f.selectionMode === \"click\") {\n            a(f._items[g]).removeClass(f.toThemeProperty(\"jqx-fill-state-hover jqx-ribbon-item-hover\"));\n          }\n\n          if (f.mode === \"popup\" && f._roundedCorners) {\n            f._header.removeClass(f.toThemeProperty(\"jqx-rc-all\"));\n\n            var b, d;\n\n            switch (f.position) {\n              case \"top\":\n                b = \"jqx-rc-t\";\n                d = \"jqx-rc-b\";\n                break;\n\n              case \"bottom\":\n                b = \"jqx-rc-b\";\n                d = \"jqx-rc-t\";\n                break;\n\n              case \"left\":\n                b = \"jqx-rc-l\";\n                d = \"jqx-rc-r\";\n                break;\n\n              case \"right\":\n                b = \"jqx-rc-r\";\n                d = \"jqx-rc-l\";\n                break;\n            }\n\n            f._headerElement.className += \" \" + f.toThemeProperty(b);\n\n            for (var e = 0; e < f._items.length; e++) {\n              f._items[e].className += \" \" + f.toThemeProperty(b);\n              f._contentSections[e].className += \" \" + f.toThemeProperty(d);\n            }\n          }\n\n          f._items[g].className += \" \" + f.toThemeProperty(\"jqx-widget-content jqx-ribbon-item-selected\");\n          f._selectionToken.style.display = \"block\";\n\n          f._updatePositions(g);\n\n          var c;\n\n          switch (f.animationType) {\n            case \"fade\":\n              c = a(f._contentSections[g]);\n\n              f._initAnimate(c);\n\n              if (c.css(\"display\") === \"none\") {\n                c.fadeIn({\n                  duration: f.animationDelay,\n                  complete: function complete() {\n                    f._animationComplete(g, j);\n                  }\n                });\n              } else {\n                c.fadeOut({\n                  duration: f.animationDelay,\n                  complete: function complete() {\n                    f._animationComplete(g, j);\n                  }\n                });\n              }\n\n              break;\n\n            case \"slide\":\n              c = a(f._contentSections[g]);\n              var h = f.position;\n\n              if (h === \"top\") {\n                h = \"up\";\n              } else {\n                if (h === \"bottom\") {\n                  h = \"down\";\n                }\n              }\n\n              f.slideAnimation = f._slide(c, {\n                mode: \"show\",\n                direction: h,\n                duration: f.animationDelay\n              }, g, j);\n              break;\n\n            case \"none\":\n              f._contentSections[g].style.display = \"block\";\n\n              f._animationComplete(g, j);\n\n              break;\n          }\n        } else {}\n      }\n    },\n    _clearSelection: function _clearSelection(c, f) {\n      var d = this;\n\n      if (d.mode === \"popup\") {\n        if (d._roundedCorners) {\n          d._headerElement.className += \" \" + d.toThemeProperty(\"jqx-rc-all\");\n        }\n      }\n\n      d._selecting = -1;\n\n      if (f === undefined) {\n        f = d.selectedIndex;\n      }\n\n      a(d._items[f]).removeClass(d.toThemeProperty(\"jqx-widget-content jqx-ribbon-item-selected\"));\n      d._selectionToken.style.display = \"none\";\n\n      if (c !== true && d.animationType !== \"none\") {\n        var b = a(d._contentSections[f]);\n\n        if (d.animationType === \"fade\") {\n          d._initAnimate(b);\n\n          b.fadeOut({\n            duration: d.animationDelay,\n            complete: function complete() {\n              d._clearSelectionComplete(f);\n            }\n          });\n        } else {\n          if (d.animationType === \"slide\") {\n            var e = d.position;\n\n            if (e === \"top\") {\n              e = \"up\";\n            } else {\n              if (e === \"bottom\") {\n                e = \"down\";\n              }\n            }\n\n            d._stopAnimation();\n\n            f = d.selectedIndex;\n            d.slideAnimation = d._slide(b, {\n              mode: \"hide\",\n              direction: e,\n              duration: d.animationDelay\n            }, f);\n            d.selectedIndex = -1;\n          }\n        }\n      } else {\n        if (f === -1) {\n          return;\n        }\n\n        d._contentSections[f].style.display = \"none\";\n\n        d._clearSelectionComplete(f, c);\n      }\n    },\n    _addHandlers: function _addHandlers() {\n      var g = this,\n          t = g.element.id,\n          h = false,\n          n;\n\n      function r(j) {\n        var k = g._closest(j.target, \"li\"),\n            i = k._index;\n\n        if (!g._items[i]._disabled) {\n          if (i !== g.selectedIndex) {\n            g._selectAt(i);\n          } else {\n            if (g.mode === \"popup\") {\n              if (g.popupCloseMode !== \"none\") {\n                k.className += \" \" + g.toThemeProperty(\"jqx-fill-state-hover jqx-ribbon-item-hover\");\n\n                g._clearSelection();\n              }\n            }\n          }\n        }\n      }\n\n      function b(m) {\n        if (g.reorder === true && h === true) {\n          var i = g._closest(m.target, \"li\")._index,\n              l = g._items[n].innerHTML,\n              k = g._contentSections[n].childNodes,\n              j = [];\n\n          while (k.length > 0) {\n            j.push(a(k[0]).detach());\n          }\n\n          g._suppressSelectionEvents = true;\n          g._oldReorderIndex = n;\n          g.removeAt(n);\n          g.clearSelection();\n          g.addAt(i, {\n            title: l,\n            content: j\n          });\n          g.selectAt(i);\n          setTimeout(function () {\n            a(g._items[i]).trigger(\"mousedown\");\n          }, 0);\n        } else {\n          var E = g._closest(m.target, \"li\");\n\n          if (B(E._index)) {\n            E.className += \" \" + g.toThemeProperty(\"jqx-fill-state-hover jqx-ribbon-item-hover\");\n          }\n        }\n      }\n\n      function s(i) {\n        var j = g._closest(i.target, \"li\");\n\n        if (B(j._index)) {\n          a(j).removeClass(g.toThemeProperty(\"jqx-fill-state-hover jqx-ribbon-item-hover\"));\n        }\n      }\n\n      function o(i) {\n        if (i.target.nodeName === \"#document\") {\n          return;\n        }\n\n        var j = g._closest(i.target, \"li\");\n\n        if ((g.reorder === true || g._removeByDrag === true) && j._index === g.selectedIndex) {\n          h = true;\n          n = j._index;\n          j.style.cursor = \"move\";\n        }\n      }\n\n      function C() {\n        if (g.popupCloseMode === \"mouseLeave\" && g.mode === \"popup\") {\n          g._clearSelection();\n        }\n      }\n\n      function c(j) {\n        var i = g._closest(j.target, \"li\")._index;\n\n        if (!g._items[i]._disabled && i !== g.selectedIndex) {\n          g._selectAt(i);\n        }\n      }\n\n      function x(j) {\n        var i = g._closest(j.target, \"li\")._index;\n\n        if (!g._items[i]._disabled) {\n          if (g.mode === \"popup\") {\n            if (g.popupCloseMode !== \"none\") {\n              g._clearSelection();\n            }\n          }\n        }\n      }\n\n      function D() {\n        if (g.popupCloseMode === \"mouseLeave\" && g.mode === \"popup\") {\n          g._clearSelection();\n        }\n      }\n\n      var d = function d(m) {\n        if (g.popupCloseMode === \"click\" && g.mode === \"popup\" && g.selectedIndex !== -1) {\n          if (m.target.tagName === \"svg\") {\n            return;\n          }\n\n          var l = g._closest(m.target, undefined, \"jqx-ribbon\");\n\n          if (l !== undefined && l.getAttribute(\"id\") !== t) {\n            g._clearSelection();\n\n            return;\n          }\n\n          if (m.target.className === undefined || m.target.className.indexOf(\"jqx-ribbon-content-popup\") !== -1) {\n            g._clearSelection();\n\n            return;\n          }\n\n          if (a(m.target).ischildof(g.host)) {\n            return;\n          }\n\n          var k = false;\n\n          var j = [],\n              i = function i(E) {\n            if (E.parentElement) {\n              j.push(E.parentElement);\n              i(E.parentElement);\n            }\n          };\n\n          i(m.target);\n          a.each(j, function () {\n            if (this.className !== undefined) {\n              if (this.className.indexOf) {\n                if (this.className.indexOf(\"jqx-ribbon\") !== -1) {\n                  k = true;\n                  return false;\n                }\n\n                if (this.className.indexOf(\"jqx-ribbon\") !== -1) {\n                  if (t === this.id) {\n                    k = true;\n                  }\n\n                  return false;\n                }\n              }\n            }\n          });\n\n          if (!k) {\n            g._clearSelection();\n          }\n        }\n      };\n\n      if (g.selectionMode === \"click\") {\n        var B = function B(i) {\n          return (g._selecting !== i && g._allowSelection === false || (g._selecting === -1 || g.selectedIndex !== i) && g._allowSelection === true) && !g._items[i]._disabled;\n        };\n\n        for (var z = 0; z < g._items.length; z++) {\n          var f = g._items[z];\n          g.addHandler(f, \"click.ribbon\" + t, r);\n          g.addHandler(f, \"mouseenter.ribbon\" + t, b);\n          g.addHandler(f, \"mouseleave.ribbon\" + t, s);\n          g.addHandler(f, \"mousedown.ribbon\" + t, o);\n        }\n\n        if (g.mode === \"popup\") {\n          g.addHandler(g.host, \"mouseleave.ribbon\" + t, function () {\n            if (g.popupCloseMode === \"mouseLeave\" && g.mode === \"popup\") {\n              g._clearSelection();\n            }\n          });\n\n          for (var y = 0; y < g._contentSections.length; y++) {\n            g.addHandler(g._contentSections[y], \"mouseleave.ribbon\" + t, C);\n          }\n\n          g.addHandler(a(document), \"mousedown.ribbon\" + t, function (i) {\n            d(i);\n          });\n        }\n\n        if (g._removeByDrag === true) {\n          for (var A = 0; A < g._items.length; A++) {\n            g._items[A].className += \" \" + g.toThemeProperty(\"jqx-ribbon-item-docking-layout\");\n          }\n        }\n\n        g.addHandler(document, \"mouseup.ribbon\" + t, function () {\n          h = false;\n\n          for (var j = 0; j < g._items.length; j++) {\n            g._items[j].style.cursor = \"\";\n          }\n        });\n        g.addHandler(g._header, \"mouseleave.ribbon\" + t, function (i) {\n          if (g._removeByDrag === true && h === true) {\n            g._raiseEvent(\"3\", {\n              draggedIndex: n,\n              x: i.pageX,\n              y: i.pageY\n            });\n\n            if (g._items.length > 1) {\n              g.removeAt(n);\n            }\n\n            h = false;\n            i.target.style.cursor = \"\";\n          }\n        });\n      } else {\n        if (g.selectionMode === \"hover\") {\n          for (var w = 0; w < g._items.length; w++) {\n            var p = g._items[w];\n            g.addHandler(p, \"mouseenter.ribbon\" + t, c);\n\n            if (g.mode === \"popup\") {\n              g.addHandler(p, \"click.ribbon\" + t, x);\n            }\n          }\n\n          if (g.mode === \"popup\") {\n            g.addHandler(g.host, \"mouseleave.ribbon\" + t, function () {\n              if (g.popupCloseMode === \"mouseLeave\" && g.mode === \"popup\") {\n                g._clearSelection();\n              }\n            });\n\n            for (var v = 0; v < g._contentSections.length; v++) {\n              g.addHandler(g._contentSections, \"mouseleave.ribbon\" + t, D);\n            }\n\n            g.addHandler(a(document), \"mousedown.ribbon\" + t, function (i) {\n              d(i);\n            });\n          }\n        }\n      }\n\n      var e = a.jqx.mobile.isTouchDevice(),\n          u,\n          q;\n\n      if (e) {\n        u = \"touchstart\";\n        q = \"touchend\";\n      } else {\n        u = \"mousedown\";\n        q = \"mouseup\";\n      }\n\n      g.addHandler(g._scrollButtonNear, u + \".ribbon\" + t, function () {\n        if (g._orientation === \"horizontal\") {\n          g._timeoutNear = setInterval(function () {\n            var j = g._headerElement.scrollLeft,\n                i = g.rtl && g._browser.browser === \"msie\" ? -1 : 1;\n            g._headerElement.scrollLeft = j - g.scrollStep * i;\n\n            g._updatePositions();\n          }, g.scrollDelay);\n        } else {\n          g._timeoutNear = setInterval(function () {\n            var i = g._headerElement.scrollTop;\n            g._headerElement.scrollTop = i - g.scrollStep;\n\n            g._updatePositions();\n          }, g.scrollDelay);\n        }\n\n        return false;\n      });\n      g.addHandler(g._scrollButtonFar, u + \".ribbon\" + t, function () {\n        if (g._orientation === \"horizontal\") {\n          g._timeoutFar = setInterval(function () {\n            var j = g._headerElement.scrollLeft,\n                i = g.rtl && g._browser.browser === \"msie\" ? -1 : 1;\n            g._headerElement.scrollLeft = j + g.scrollStep * i;\n\n            g._updatePositions();\n          }, g.scrollDelay);\n        } else {\n          g._timeoutFar = setInterval(function () {\n            var i = g._headerElement.scrollTop;\n            g._headerElement.scrollTop = i + g.scrollStep;\n\n            g._updatePositions();\n          }, g.scrollDelay);\n        }\n\n        return false;\n      });\n      g.addHandler(a(document), q + \".ribbon\" + t, function () {\n        clearInterval(g._timeoutNear);\n        clearInterval(g._timeoutFar);\n      });\n    },\n    _removeHandlers: function _removeHandlers(j, f) {\n      var g = this,\n          b = g.element.id;\n\n      if (!j) {\n        j = g.selectionMode;\n      }\n\n      if (!f) {\n        f = g.mode;\n      }\n\n      for (var e = 0; e < g._items.length; e++) {\n        var h = g._items[e];\n        g.removeHandler(h, \"mouseenter.ribbon\" + b);\n\n        if (j === \"click\") {\n          g.removeHandler(h, \"click.ribbon\" + b);\n          g.removeHandler(h, \"mouseleave.ribbon\" + b);\n          g.removeHandler(h, \"mousedown.ribbon\" + b);\n        }\n      }\n\n      if (j === \"click\") {\n        g.removeHandler(document, \"mouseup.ribbon\" + b);\n        g.removeHandler(g._header, \"mouseleave.ribbon\" + b);\n      } else {\n        if (j === \"hover\" && f === \"popup\") {\n          g.removeHandler(g.host, \"mouseleave.ribbon\" + b);\n        }\n      }\n\n      var d = a.jqx.mobile.isTouchDevice(),\n          c,\n          k;\n\n      if (d) {\n        c = \"touchstart\";\n        k = \"touchend\";\n      } else {\n        c = \"mousedown\";\n        k = \"mouseup\";\n      }\n\n      g.removeHandler(g._scrollButtonNear, c + \".ribbon\" + b);\n      g.removeHandler(g._scrollButtonFar, c + \".ribbon\" + b);\n      g.removeHandler(a(document), k + \".ribbon\" + b);\n    },\n    _checkStructure: function _checkStructure(c) {\n      var d = this;\n      var f = c.length;\n\n      if (f !== 2) {\n        throw new Error(\"jqxRibbon: Invalid HTML structure. You need to add a ul and a div to the widget container.\");\n      }\n\n      var b = d._header.children().length;\n\n      var e = d._content.children().length;\n\n      if (b !== e) {\n        throw new Error(\"jqxRibbon: Invalid HTML structure. For each list item you must have a corresponding div element.\");\n      }\n    },\n    _addClasses: function _addClasses() {\n      var j = this,\n          f = \"jqx-widget-content jqx-ribbon-content-section jqx-ribbon-content-section-\" + j.position,\n          e = \"jqx-widget-content jqx-ribbon-content jqx-ribbon-content-\" + j._orientation,\n          c = \"jqx-widget-header jqx-disableselect jqx-ribbon-header jqx-ribbon-header-\" + j._orientation,\n          m = \"jqx-ribbon-item jqx-ribbon-item-\" + j.position,\n          b = \"jqx-widget jqx-ribbon\";\n\n      j._content.removeClass();\n\n      j._header.removeClass(j.toThemeProperty(\"jqx-rc-all jqx-widget-header jqx-disableselect jqx-rc-t jqx-rc-b jqx-rc-l jqx-rc-r jqx-rc-all jqx-ribbon-header-\" + j._orientation + \"-popup jqx-ribbon-header-bottom jqx-ribbon-header-auto jqx-ribbon-header-right jqx-ribbon-header-rtl\"));\n\n      j.host.removeClass();\n\n      if (j._roundedCorners) {\n        switch (j.position) {\n          case \"top\":\n            c += \" jqx-rc-t\";\n            m += \" jqx-rc-t\";\n            f += \" jqx-rc-b\";\n            break;\n\n          case \"bottom\":\n            c += \" jqx-rc-b\";\n            m += \" jqx-rc-b\";\n            f += \" jqx-rc-t\";\n            break;\n\n          case \"left\":\n            c += \" jqx-rc-l\";\n            m += \" jqx-rc-l\";\n            f += \" jqx-rc-r\";\n            break;\n\n          case \"right\":\n            c += \" jqx-rc-r\";\n            m += \" jqx-rc-r\";\n            f += \" jqx-rc-l\";\n            break;\n        }\n      } else {\n        switch (j.position) {\n          case \"top\":\n            m += \" jqx-rc-t\";\n            break;\n\n          case \"bottom\":\n            m += \" jqx-rc-b\";\n            break;\n\n          case \"left\":\n            m += \" jqx-rc-l\";\n            break;\n\n          case \"right\":\n            m += \" jqx-rc-r\";\n            break;\n        }\n      }\n\n      if (j.rtl === true) {\n        c += \" jqx-ribbon-header-rtl\";\n        m += \" jqx-ribbon-item-rtl\";\n      }\n\n      j.element.className += \" \" + j.toThemeProperty(b);\n      j._headerElement.className += \" \" + j.toThemeProperty(c);\n      j._contentElement.className += \" \" + j.toThemeProperty(e);\n\n      for (var h = 0; h < j._items.length; h++) {\n        var d = a(j._contentSections[h]),\n            k = a(j._items[h]);\n        d.removeClass();\n        k.removeClass(j.toThemeProperty(\"jqx-fill-state-disabled jqx-ribbon-item-rtl jqx-widget-content jqx-ribbon-item-selected jqx-rc-t jqx-rc-b jqx-rc-l jqx-rc-r jqx-ribbon-item-docking-layout jqx-ribbon-item jqx-ribbon-item-\" + j.position));\n\n        if (j.mode === \"popup\") {\n          f += \" jqx-ribbon-content-section-popup jqx-ribbon-content-popup-\" + j.position + \" jqx-ribbon-content-section-\" + j._orientation + \"-popup\";\n        }\n\n        j._contentSections[h].className += \" \" + j.toThemeProperty(f);\n        j._items[h].className += \" \" + j.toThemeProperty(m);\n      }\n\n      var n, g;\n\n      if (j.mode === \"popup\") {\n        if (j.selectedIndex === -1) {\n          if (j._roundedCorners) {\n            j.element.className += \" \" + j.toThemeProperty(\"jqx-rc-all\");\n            j._headerElement.className += \" \" + j.toThemeProperty(\"jqx-rc-all\");\n          }\n        }\n\n        j.element.className += \" \" + j.toThemeProperty(\"jqx-ribbon-popup\");\n        j._headerElement.className += \" \" + j.toThemeProperty(\"jqx-ribbon-header-\" + j._orientation + \"-popup\");\n        j._contentElement.className += \" \" + j.toThemeProperty(\"jqx-ribbon-content-popup\");\n\n        j._positionPopup();\n      } else {\n        if (j._orientation === \"horizontal\") {\n          if (j.height !== \"auto\") {\n            g = j._headerElement.offsetHeight;\n\n            if (j.position === \"top\") {\n              j._contentElement.style.paddingTop = j._toPx(g);\n            } else {\n              j._headerElement.className += \" \" + j.toThemeProperty(\"jqx-ribbon-header-bottom\");\n            }\n          } else {\n            j._headerElement.className += \" \" + j.toThemeProperty(\"jqx-ribbon-header-auto\");\n          }\n        } else {\n          if (j._orientation === \"vertical\") {\n            if (j.width !== \"auto\") {\n              n = j._headerElement.offsetWidth;\n\n              if (j.position === \"left\") {\n                j._contentElement.style.paddingLeft = j._toPx(n);\n              } else {\n                j._headerElement.className += \" \" + j.toThemeProperty(\"jqx-ribbon-header-right\");\n                j._contentElement.style.paddingRight = j._toPx(n);\n              }\n            } else {\n              j.element.className += \" \" + j.toThemeProperty(\"jqx-ribbon-auto\");\n              j._headerElement.className += \" \" + j.toThemeProperty(\"jqx-ribbon-header-auto\");\n              j._contentElement.className += \" \" + j.toThemeProperty(\"jqx-ribbon-content-auto-width\");\n            }\n          }\n        }\n\n        this.host.addClass(\"jqx-tabs-header-position-\" + this.position);\n      }\n\n      a(j._headerElement).addClass(j.toThemeProperty(\"jqx-ribbon-header-\" + j.position));\n\n      if (j._browser.version === \"7.0\" && j._browser.browser === \"msie\") {\n        if (j._orientation === \"horizontal\") {\n          j._header.css(\"width\", j.host.width() - parseInt(j._header.css(\"padding-left\"), 10) - parseInt(j._header.css(\"padding-right\"), 10) - parseInt(j._header.css(\"border-left-width\"), 10) - parseInt(j._header.css(\"border-right-width\"), 10));\n\n          j._items.height(j._items.height() - parseInt(j._items.css(\"padding-top\"), 10) - parseInt(j._items.css(\"padding-bottom\"), 10) - parseInt(j._items.css(\"border-top-width\"), 10) - parseInt(j._items.css(\"border-bottom-width\"), 10));\n\n          j._contentSections.width(j._contentSections.width() - parseInt(j._contentSections.css(\"border-left-width\"), 10) - parseInt(j._contentSections.css(\"border-right-width\"), 10) - parseInt(j._contentSections.css(\"padding-left\"), 10) - parseInt(j._contentSections.css(\"padding-right\"), 10));\n\n          if (j.mode === \"default\") {\n            if (j.height !== \"auto\") {\n              if (j.position === \"top\") {\n                j._contentSections.css(\"padding-top\", g);\n              } else {\n                j._contentSections.css(\"padding-bottom\", g);\n              }\n\n              j._content.css(\"height\", j.host.height() + 2);\n\n              j._contentSections.css(\"height\", j._content.height() - parseInt(j._contentSections.css(\"border-bottom-width\"), 10) - parseInt(j._contentSections.css(\"border-top-width\"), 10) - 1);\n            }\n          } else {}\n        } else {\n          var l;\n\n          if (j.position === \"left\") {\n            j._contentElement.className += \" \" + j.toThemeProperty(\"jqx-ribbon-content-left\");\n            l = parseInt(j._contentSections.css(\"border-left-width\"), 10) + parseInt(j._contentSections.css(\"border-right-width\"), 10) + 1;\n          } else {\n            j._contentElement.className += \" \" + j.toThemeProperty(\"jqx-ribbon-content-right\");\n            l = 0;\n          }\n\n          j._header.css(\"height\", j.host.height() - parseInt(j._header.css(\"padding-top\"), 10) - parseInt(j._header.css(\"padding-bottom\"), 10) - parseInt(j._header.css(\"border-top-width\"), 10) - parseInt(j._header.css(\"border-bottom-width\"), 10));\n\n          j._items.width(j._items.width() - parseInt(j._items.css(\"padding-left\"), 10) - parseInt(j._items.css(\"padding-right\"), 10) - parseInt(j._items.css(\"border-left-width\"), 10) - parseInt(j._items.css(\"border-right-width\"), 10));\n\n          j._contentSections.height(j._contentSections.height() - parseInt(j._contentSections.css(\"border-top-width\"), 10) - parseInt(j._contentSections.css(\"border-bottom-width\"), 10) - parseInt(j._contentSections.css(\"padding-top\"), 10) - parseInt(j._contentSections.css(\"padding-bottom\"), 10));\n\n          if (j.mode === \"default\") {\n            if (j.width !== \"auto\") {\n              if (j.position === \"left\") {\n                j._contentSections.css(\"padding-left\", n);\n              } else {\n                j._contentSections.css(\"padding-right\", n);\n              }\n\n              j._contentSections.width(j._content.width() - j._header.width() - l);\n            }\n          } else {}\n        }\n      }\n\n      if (j.position === \"bottom\") {\n        j._content.css(\"padding-bottom\", g);\n      }\n    },\n    _positionPopup: function _positionPopup() {\n      var c = this;\n      var b = c._browser.version === \"7.0\" && c._browser.browser === \"msie\";\n\n      switch (c.position) {\n        case \"top\":\n          c._contentElement.style.top = c._toPx(c._headerElement.offsetHeight);\n          break;\n\n        case \"bottom\":\n          if (!b) {\n            c._contentElement.style.bottom = c._toPx(c._headerElement.offsetHeight);\n          } else {\n            c._contentElement.style.bottom = c._toPx(c._height(c._headerElement));\n          }\n\n          break;\n\n        case \"left\":\n          c._contentElement.style.left = c._toPx(c._headerElement.offsetWidth);\n          break;\n\n        case \"right\":\n          c._contentElement.style.right = c._header.outerWidth() + \"px\";\n          break;\n      }\n    },\n    _appendScrollButtons: function _appendScrollButtons() {\n      var e = this,\n          d = e._orientation === \"horizontal\" ? [\"left\", \"right\"] : [\"up\", \"down\"];\n\n      function c(h, i, g) {\n        h.className = e.toThemeProperty(\"jqx-ribbon-scrollbutton jqx-ribbon-scrollbutton-\" + e.position + \" jqx-ribbon-scrollbutton-\" + e.scrollPosition + \" jqx-widget-header \" + i);\n        h.innerHTML = '<div class=\"' + e.toThemeProperty(\"jqx-ribbon-scrollbutton-inner \" + g) + '\"></div>';\n\n        if (e._orientation === \"horizontal\") {\n          h.style.height = e._toPx(e._height(e._headerElement));\n        } else {\n          h.style.width = e._toPx(e._width(e._headerElement));\n        }\n\n        e.element.appendChild(h);\n      }\n\n      var b = document.createElement(\"div\");\n      c(b, \"jqx-ribbon-scrollbutton-lt\", \"jqx-icon-arrow-\" + d[0]);\n      var f = document.createElement(\"div\");\n      c(f, \"jqx-ribbon-scrollbutton-rb\", \"jqx-icon-arrow-\" + d[1]);\n\n      e._scrollButtonRc(b, f);\n\n      e._scrollButtonNear = b;\n      e._scrollButtonFar = f;\n\n      if (!e.roundedCorners) {\n        return;\n      }\n\n      switch (e.position) {\n        case \"top\":\n        case \"bottom\":\n          b.style.marginLeft = \"-1px\";\n          f.style.marginRight = \"-1px\";\n          break;\n\n        case \"right\":\n        case \"left\":\n          b.style.marginTop = \"-1px\";\n          f.style.marginBottom = \"-1px\";\n          break;\n      }\n    },\n    _scrollButtonRc: function _scrollButtonRc(b, d) {\n      var c = this;\n\n      if (!c.roundedCorners) {\n        return;\n      }\n\n      switch (c.position) {\n        case \"top\":\n          if (c.scrollPosition !== \"far\") {\n            b.className += \" \" + c.toThemeProperty(\"jqx-rc-tl\");\n          }\n\n          if (c.scrollPosition !== \"near\") {\n            d.className += \" \" + c.toThemeProperty(\"jqx-rc-tr\");\n          }\n\n          break;\n\n        case \"bottom\":\n          if (c.scrollPosition !== \"far\") {\n            b.className += \" \" + c.toThemeProperty(\"jqx-rc-bl\");\n          }\n\n          if (c.scrollPosition !== \"near\") {\n            d.className += \" \" + c.toThemeProperty(\"jqx-rc-br\");\n          }\n\n          break;\n\n        case \"left\":\n          if (c.scrollPosition !== \"far\") {\n            b.className += \" \" + c.toThemeProperty(\"jqx-rc-tl\");\n          }\n\n          if (c.scrollPosition !== \"near\") {\n            d.className += \" \" + c.toThemeProperty(\"jqx-rc-bl\");\n          }\n\n          break;\n\n        case \"right\":\n          if (c.scrollPosition !== \"far\") {\n            b.className += \" \" + c.toThemeProperty(\"jqx-rc-tr\");\n          }\n\n          if (c.scrollPosition !== \"near\") {\n            d.className += \" \" + c.toThemeProperty(\"jqx-rc-br\");\n          }\n\n          break;\n      }\n    },\n    _updateItems: function _updateItems(c) {\n      function b() {\n        if (f._items[e]._index === f.selectedIndex) {\n          f.selectedIndex = e;\n        }\n      }\n\n      var f = this;\n      f._items = f._header.children();\n      f._contentSections = f._content.children();\n\n      for (var e = 0; e < f._items.length; e++) {\n        var d = f._items[e];\n        d.setAttribute(\"unselectable\", \"on\");\n\n        if (d._index === undefined) {\n          d._disabled = false;\n          d._isInitialized = false;\n          f._contentSections[e]._layout = \"default\";\n        }\n\n        if (c === true) {\n          b();\n        }\n\n        d._index = e;\n\n        if (c !== true) {\n          b();\n        }\n\n        if (f._contentSections[e]) {\n          f._contentSections[e]._index = e;\n        }\n      }\n    },\n    _positionContent: function _positionContent(h) {\n      var g = this,\n          f = g._contentSections[h],\n          c,\n          m,\n          n,\n          j,\n          b,\n          l;\n\n      if (g._orientation === \"horizontal\") {\n        c = g.element.offsetWidth;\n        m = g.host.offset().left;\n        n = g._items[h].offsetWidth;\n        j = a(g._items[h]).offset().left;\n        b = f.offsetWidth || parseInt(f.style.width, 10);\n        l = \"left\";\n      } else {\n        c = g.element.offsetHeight;\n        m = g.host.offset().top;\n        n = g._items[h].offsetHeight;\n        j = a(g._items[h]).offset().top;\n        b = f.offsetHeight || parseInt(f.style.height, 10);\n        l = \"top\";\n      }\n\n      var e = function e(i) {\n        if (i < 0) {\n          i = 0;\n        } else {\n          if (i + b > c) {\n            i = c - b;\n          }\n        }\n\n        f.style[l] = g._toPx(i);\n      };\n\n      var k;\n\n      switch (f._layout) {\n        case \"near\":\n          k = j - m;\n          e(k);\n          break;\n\n        case \"far\":\n          k = j - m - (b - n);\n          e(k);\n          break;\n\n        case \"center\":\n          k = j - m - (b - n) / 2;\n          e(k);\n          break;\n\n        default:\n          if (g.position === \"right\") {\n            for (var d = 0; d < g._contentSections.length; d++) {\n              g._contentSections[d].style.right = \"1px\";\n            }\n          } else {\n            f.style[l] = \"\";\n          }\n\n      }\n    },\n    _checkScrollButtons: function _checkScrollButtons(b) {\n      var f = this;\n      var d = 0;\n      a.each(f._items, function () {\n        var k = a(this);\n\n        if (k.css(\"display\") !== \"none\") {\n          d += f._orientation === \"horizontal\" ? k.outerWidth(true) : k.outerHeight(true);\n        }\n      });\n      var i = f._orientation === \"horizontal\" ? [\"margin-left\", \"margin-right\"] : [\"margin-top\", \"margin-bottom\"];\n      var h = f._orientation === \"horizontal\" ? f._width(f._headerElement) : f._height(f._headerElement);\n\n      if (!f._itemMargins) {\n        f._itemMargins = [];\n\n        f._itemMargins.push(a(f._items[0]).css(i[0]));\n\n        f._itemMargins.push(a(f._items[f._items.length - 1]).css(i[1]));\n      }\n\n      if (d > h) {\n        f._scrollButtonNear.style.display = \"block\";\n        f._scrollButtonFar.style.display = \"block\";\n        var g = f.rtl ? f._itemMargins[0] : 17;\n        var e = f.rtl ? f._itemMargins[0] : 17;\n\n        switch (f.scrollPosition) {\n          case \"near\":\n            e = 0;\n            g = 34;\n            break;\n\n          case \"far\":\n            e = 34;\n            g = 17;\n            break;\n        }\n\n        if (f._items[0]) {\n          f._items[0].style[i[0]] = f._toPx(g);\n        }\n\n        if (f._items[f._items.length - 1]) {\n          f._items[f._items.length - 1].style[i[1]] = f._toPx(e);\n        }\n      } else {\n        if (f._items[0]) {\n          f._items[0].style[i[0]] = f._toPx(f._itemMargins[0]);\n        }\n\n        if (f._items[f._items.length - 1]) {\n          f._items[f._items.length - 1].style[i[1]] = f._toPx(f._itemMargins[1]);\n        }\n\n        f._scrollButtonNear.style.display = \"none\";\n        f._scrollButtonFar.style.display = \"none\";\n      }\n\n      if (b === true) {\n        if (f._orientation === \"horizontal\") {\n          var j = f._toPx(f._height(f._headerElement));\n\n          f._scrollButtonNear.style.height = j;\n          f._scrollButtonFar.style.height = j;\n        } else {\n          var c = f._toPx(f._width(f._headerElement));\n\n          f._scrollButtonNear.style.width = c;\n          f._scrollButtonFar.style.width = c;\n        }\n      }\n    },\n    _positionSelectionToken: function _positionSelectionToken(i) {\n      var h = this;\n\n      if (i !== -1) {\n        var e = a(h._items[i]);\n\n        if (e.length === 0) {\n          return;\n        }\n\n        var j, b, d, k, g;\n\n        if (h._orientation === \"horizontal\") {\n          var f, m;\n\n          if (h.rtl === true) {\n            if (h._browserWidthRtlFlag === 1) {\n              f = h._headerElement.scrollWidth - h._headerElement.clientWidth;\n            } else {\n              f = 0;\n            }\n\n            m = h._browserScrollRtlFlag;\n          } else {\n            f = 0;\n            m = 1;\n          }\n\n          d = e[0].offsetLeft + f - h._headerElement.scrollLeft * m - h._selectionTokenOffsetX + 2;\n          g = h._headerElement.offsetHeight - 1;\n          var c = h._width(e[0]) + parseInt(e.css(\"padding-left\"), 10) + parseInt(e.css(\"padding-right\"), 10);\n\n          if (h.position === \"top\") {\n            j = g - h._selectionTokenOffsetY;\n            b = \"\";\n          } else {\n            j = \"\";\n            b = g - h._selectionTokenOffsetY;\n          }\n\n          h._selectionToken.style.top = h._toPx(j);\n          h._selectionToken.style.bottom = h._toPx(b);\n          h._selectionToken.style.left = h._toPx(d);\n          h._selectionToken.style.width = h._toPx(c);\n        } else {\n          j = e[0].offsetTop - h._headerElement.scrollTop - h._selectionTokenOffsetX + 2;\n          g = h._headerElement.offsetWidth - 1;\n          var l = h._height(e[0]) + parseInt(e.css(\"padding-top\"), 10) + parseInt(e.css(\"padding-bottom\"), 10);\n\n          if (h.position === \"left\") {\n            d = g - h._selectionTokenOffsetY;\n            k = \"\";\n          } else {\n            d = \"\";\n            k = g - h._selectionTokenOffsetY;\n          }\n\n          h._selectionToken.style.top = h._toPx(j);\n          h._selectionToken.style.left = h._toPx(d);\n          h._selectionToken.style.right = h._toPx(k);\n          h._selectionToken.style.height = h._toPx(l);\n        }\n      }\n    },\n    _updatePositions: function _updatePositions(c, b) {\n      var d = this;\n\n      if (isNaN(c)) {\n        if (b === true && d._selecting !== null && d._selecting >= 0) {\n          c = d._selecting;\n        } else {\n          c = d.selectedIndex;\n        }\n      }\n\n      if (c !== -1) {\n        d._positionSelectionToken(c);\n\n        if (d.mode === \"popup\" && d._contentSections[c]._layout !== \"default\") {\n          d._positionContent(c);\n        }\n\n        if (d.mode === \"popup\" && (d.position === \"left\" || d.position === \"right\")) {\n          d._contentElement.style.width = \"auto\";\n          var e = d._contentSections[c].style.width && d._contentSections[c].style.width.indexOf(\"%\") >= 0;\n\n          if (e) {\n            d._contentElement.style.width = d._toPx(d._width(d._contentSections[c]) - d._width(d._headerElement));\n          } else {\n            d._contentElement.style.width = d._toPx(d._width(d._contentSections[c]));\n          }\n        }\n\n        d._refreshBarPosition();\n      }\n    },\n    _animationComplete: function _animationComplete(c, e) {\n      var d = this,\n          b = e !== -1 ? e : null;\n      d._contentElement.style.pointerEvents = \"auto\";\n      d.selectedIndex = c;\n\n      if (d._suppressSelectionEvents !== true) {\n        d._raiseEvent(\"0\", {\n          selectedIndex: c\n        });\n\n        d._raiseEvent(\"2\", {\n          unselectedIndex: b,\n          selectedIndex: c\n        });\n      } else {\n        if (d._suppressReorder !== true && d._oldReorderIndex !== undefined && c !== d._oldReorderIndex) {\n          d._raiseEvent(\"4\", {\n            newIndex: c,\n            oldIndex: d._oldReorderIndex\n          });\n        }\n\n        d._suppressSelectionEvents = false;\n        d._suppressReorder = false;\n      }\n\n      if (d.initContent && d._items[c]._isInitialized === false) {\n        d.initContent(c);\n        d._items[c]._isInitialized = true;\n      }\n\n      d._allowSelection = true;\n      d._selecting = null;\n\n      d._refreshBarPosition();\n    },\n    _clearSelectionComplete: function _clearSelectionComplete(d, b) {\n      var c = this;\n      c._selecting = null;\n\n      if (d === undefined) {\n        d = c.selectedIndex;\n      }\n\n      if (d !== -1) {\n        c._contentElement.style.pointerEvents = \"none\";\n\n        if (c._suppressSelectionEvents !== true) {\n          c._raiseEvent(\"1\", {\n            unselectedIndex: d\n          });\n        }\n      }\n\n      if (b !== true) {\n        c.selectedIndex = -1;\n      }\n    },\n    _slide: function _slide(f, e, n, s) {\n      var m = this;\n\n      if (!m.activeAnimations) {\n        m.activeAnimations = [];\n      }\n\n      if (m.activeAnimations.length > 0) {\n        for (var k = 0; k < m.activeAnimations.length; k++) {\n          m.activeAnimations[k].clearQueue();\n          m.activeAnimations[k].finish();\n        }\n      } else {\n        f.clearQueue();\n        f.animate(\"finish\");\n      }\n\n      var h = \"ui-effects-\";\n      var d = {\n        save: function save(u, v) {\n          for (var o = 0; o < v.length; o++) {\n            if (v[o] !== null && u.length > 0) {\n              u.data(h + v[o], u[0].style[v[o]]);\n            }\n          }\n        },\n        restore: function restore(u, w) {\n          var v, o;\n\n          for (o = 0; o < w.length; o++) {\n            if (w[o] !== null) {\n              v = u.data(h + w[o]);\n\n              if (v === undefined) {\n                v = \"\";\n              }\n\n              u.css(w[o], v);\n            }\n          }\n        },\n        createWrapper: function createWrapper(o) {\n          if (o.parent().is(\".ui-effects-wrapper\")) {\n            return o.parent();\n          }\n\n          var u = {\n            width: o.outerWidth(true),\n            height: o.outerHeight(true),\n            \"float\": o.css(\"float\")\n          },\n              x = a(\"<div></div>\").addClass(\"ui-effects-wrapper\").css({\n            fontSize: \"100%\",\n            background: \"transparent\",\n            border: \"none\",\n            margin: 0,\n            padding: 0\n          }),\n              i = {\n            width: o.width(),\n            height: o.height()\n          },\n              w = document.activeElement;\n\n          try {\n            w.id;\n          } catch (v) {\n            w = document.body;\n          }\n\n          o.wrap(x);\n\n          if (o[0] === w || a.contains(o[0], w)) {\n            a(w).focus();\n          }\n\n          x = o.parent();\n\n          if (o.css(\"position\") === \"static\") {\n            x.css({\n              position: \"relative\"\n            });\n            o.css({\n              position: \"relative\"\n            });\n          } else {\n            a.extend(u, {\n              position: o.css(\"position\"),\n              zIndex: o.css(\"z-index\")\n            });\n            a.each([\"top\", \"left\", \"bottom\", \"right\"], function (y, z) {\n              u[z] = o.css(z);\n\n              if (isNaN(parseInt(u[z], 10))) {\n                u[z] = \"auto\";\n              }\n            });\n            o.css({\n              position: \"relative\",\n              top: 0,\n              left: 0,\n              right: \"auto\",\n              bottom: \"auto\"\n            });\n          }\n\n          o.css(i);\n          return x.css(u).show();\n        },\n        removeWrapper: function removeWrapper(i) {\n          var o = document.activeElement;\n\n          if (i.parent().is(\".ui-effects-wrapper\")) {\n            i.parent().replaceWith(i);\n\n            if (i[0] === o || a.contains(i[0], o)) {\n              a(o).focus();\n            }\n          }\n\n          return i;\n        }\n      };\n      var q = [\"position\", \"top\", \"bottom\", \"left\", \"right\", \"width\", \"height\"],\n          l = e.mode,\n          t = l === \"show\",\n          r = e.direction || \"left\",\n          g = r === \"up\" || r === \"down\" ? \"top\" : \"left\",\n          c = r === \"up\" || r === \"left\",\n          b,\n          j = {};\n      d.save(f, q);\n      f.show();\n      b = e.distance || f[g === \"top\" ? \"outerHeight\" : \"outerWidth\"](true);\n      d.createWrapper(f).css({\n        overflow: \"hidden\"\n      });\n\n      if (t) {\n        f.css(g, c ? isNaN(b) ? \"-\" + b : -b : b);\n      }\n\n      j[g] = (t ? c ? \"+=\" : \"-=\" : c ? \"-=\" : \"+=\") + b;\n\n      var p = function p() {\n        f.clearQueue();\n        f.stop(true, true);\n      };\n\n      m.activeAnimations.push(f);\n      f.animate(j, {\n        duration: e.duration,\n        easing: e.easing,\n        complete: function complete() {\n          m.activeAnimations.pop(f);\n\n          if (l === \"show\") {\n            m._animationComplete(n, s);\n          } else {\n            if (l === \"hide\") {\n              f.hide();\n\n              m._clearSelectionComplete(n);\n            }\n          }\n\n          d.restore(f, q);\n          d.removeWrapper(f);\n        }\n      });\n      return p;\n    },\n    _toPx: function _toPx(b) {\n      if (typeof b === \"number\") {\n        return b + \"px\";\n      } else {\n        return b;\n      }\n    },\n    _width: function _width(e) {\n      var b = a(e),\n          g = b.css(\"border-left-width\"),\n          c = b.css(\"border-right-width\"),\n          d = parseInt(b.css(\"padding-left\"), 10),\n          i = parseInt(b.css(\"padding-right\"), 10),\n          h = b.css(\"display\") === \"none\" ? true : false;\n\n      if (h) {\n        e.style.display = \"block\";\n      }\n\n      if (g.indexOf(\"px\") === -1) {\n        g = 1;\n      } else {\n        g = parseInt(g, 10);\n      }\n\n      if (c.indexOf(\"px\") === -1) {\n        c = 1;\n      } else {\n        c = parseInt(c, 10);\n      }\n\n      var f = e.offsetWidth - (g + c + d + i);\n\n      if (h) {\n        e.style.display = \"none\";\n      }\n\n      return Math.max(0, f);\n    },\n    _height: function _height(e) {\n      var c = a(e),\n          h = c.css(\"border-top-width\"),\n          d = c.css(\"border-bottom-width\"),\n          f = parseInt(c.css(\"padding-top\"), 10),\n          g = parseInt(c.css(\"padding-bottom\"), 10);\n\n      if (h.indexOf(\"px\") === -1) {\n        h = 1;\n      } else {\n        h = parseInt(h, 10);\n      }\n\n      if (d.indexOf(\"px\") === -1) {\n        d = 1;\n      } else {\n        d = parseInt(d, 10);\n      }\n\n      var b = e.offsetHeight - (h + d + f + g);\n      return Math.max(0, b);\n    },\n    _closest: function _closest(d, f, c) {\n      if (f) {\n        if (d.nodeName.toLowerCase() === f) {\n          return d;\n        }\n\n        var b = d.parentNode;\n\n        while (b !== null && b.nodeName !== \"#document\") {\n          if (b.nodeName.toLowerCase() === f) {\n            return b;\n          }\n\n          b = b.parentNode;\n        }\n      }\n\n      if (c) {\n        if ((\" \" + d.className + \" \").replace(/[\\n\\t]/g, \" \").indexOf(\" \" + c + \" \") > -1) {\n          return d;\n        }\n\n        var e = d.parentNode;\n\n        while (e !== null && e.nodeName !== \"#document\") {\n          if ((\" \" + e.className + \" \").replace(/[\\n\\t]/g, \" \").indexOf(\" \" + c + \" \") > -1) {\n            return e;\n          }\n\n          e = e.parentNode;\n        }\n      }\n    },\n    _initAnimate: function _initAnimate(b) {\n      if (b.initAnimate) {\n        if (b.animate) {\n          return;\n        }\n\n        b.initAnimate();\n      }\n    }\n  });\n})(jqxBaseFramework);","map":null,"metadata":{},"sourceType":"script"}